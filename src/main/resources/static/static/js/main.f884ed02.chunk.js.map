{"version":3,"sources":["containers/monthlyreport/Transactions.js","containers/monthlyreport/Categories.js","containers/monthlyreport/CategoryBarchart.js","containers/monthlyreport/MonthyReport.js","containers/reports/BalanceReport.js","containers/reports/CategoriesReport.js","containers/reports/YearReport.js","containers/reports/reports.js","containers/util.js","containers/upload/upload.js","containers/accounts/overview.js","containers/accounts/fixedbalances.js","containers/accounts/duplicates.js","containers/accounts/feeds.js","containers/accounts/accounts.js","containers/categories/categories.js","App.js","serviceWorker.js","index.js"],"names":["classes","array","filter","i","reduce","a","b","round","n","Math","Number","EPSILON","createRefs1d","existingArray","Array","fill","map","_","createRef","Transactions","styled","className","updateFilter","updateSort","transactions","changeCategoryFor","setChangeCategoryFor","updateTransaction","saveTransaction","addTransaction","useState","dateRefs","setDateRefs","descriptionRefs","setDescriptionRefs","categoryRefs","setCategoryRefs","amountRefs","setAmountRefs","activeCell","setActiveCell","prev","value","ref","useRef","useEffect","current","usePrevious","tableContainerRef","focusRef1d","refArray","options","scrollTop","setSelectionRange","focus","max","length","useLayoutEffect","focusField","findIndex","t","uuid","withUuid","commit","field","id","onKeyDown","leftRefArray","rightRefArray","e","ctrlKey","key","stopPropagation","preventDefault","isActive","onKeyDownForFilter","inputCell","myRefs","other","rightRefs","leftRefs","InputCell","readOnly","disabled","type","autoFocus","onChange","target","totalPlus","amount","totalMinus","totalAmount","day","maxLength","description","category","React","forwardRef","props","rest","setValue","Categories","categories","categoryChanged","getTransaction","quitCategoryMode","selectCatRefs","setSelectCatRefs","filterTextRef","filterText","setFilterText","filteredCategories","c","name","toLowerCase","includes","createRefsArray","index","categoryName","SelectButton","onClick","active","substring","dataEntryKeys","test","total","count","RegExp","CategoryBarchart","data","layout","keys","indexBy","margin","top","right","bottom","left","padding","axisTop","axisRight","axisBottom","tickSize","tickPadding","tickRotation","legend","legendPosition","legendOffset","axisLeft","labelSkipWidth","labelSkipHeight","legends","dataFrom","anchor","direction","justify","translateX","translateY","itemsSpacing","itemWidth","itemHeight","itemDirection","itemOpacity","symbolSize","effects","on","style","animate","motionStiffness","motionDamping","DataEntrySection","section","ContentDiv","div","HelpContainer","aside","loadTransactions","year","month","fetch","then","response","json","feed","uuidv4","account","loadCurrentMonth","ok","MonthyReport","onChangeHeaderInfo","routeParams","useParams","history","useHistory","monthData","setMonthData","setCategories","setTransactions","filteredTransactions","setFilteredTransactions","parseInt","currentMonth","setCurrentMonth","showChart","setShowChart","showHelp","setShowHelp","setFilter","sort","setSort","filterRef","getModifierState","setNextMonth","setPrevMonth","window","addEventListener","removeEventListener","listen","location","pathname","startsWith","results","match","localeCompare","number","toString","passesFilter","m","trans","newTotal","v","result","push","compareDescriptions","compareCategories","renderFilter","up","sortTransactions","console","log","newT","x","splice","t_uuid","find","method","headers","body","JSON","stringify","savedT","cat","forEach","startingBalance","BalanceReport","setData","d","date","y","MyResponsiveLine","xScale","format","useUTC","precision","xFormat","yScale","min","curve","lineWidth","orient","tickValues","pointSize","pointColor","theme","pointBorderWidth","pointBorderColor","from","pointLabel","pointLabelYOffset","useMesh","symbolShape","symbolBorderColor","itemBackground","CategoriesReport","setCategory","setDescription","setTotal","setMin","filteredData","setFilteredData","loadData","filterData","url","isNaN","abs","z","aa","ab","onKeyDownCapture","YearReport","ReportsContainer","ReportsContent","ReportsNav","Reports","years","setYears","activeClassName","to","path","o_date","Intl","DateTimeFormat","hour","minute","f_date","m_ca","m_it","Object","Upload","accounts","setAccounts","feeds","setFeeds","statements","setStatements","newAccountName","setNewAccountName","uploadToAccount","setUploadToAccount","currentBalance","setCurrentBalance","file","setFile","dupsForFeed","setDupsForFeed","useReducer","state","action","duplicates","assign","hash","recordNumber","duplicate","k","slice","dups","dispatchDups","matchers","categoryId","pattern","matcherId","Error","dispatchCat","loadAccounts","loadFeeds","loadStatements","loadCategories","groupByHash","contentHash","accountId","numberOfTransactions","s","f","formatToParts","formatDDMMYYYY","Date","dateImported","formatHHMM","feedId","files","formData","FormData","append","error","first","upload","j","dup","for","content","checked","Overview","accountName","overview","setOverview","fromDate","toLocaleDateString","toDate","numberOfStatements","FixedBalances","fixedBalances","setFixedBalances","dateInput","setDateInput","amountInput","setAmountInput","loadFixedBalances","balances","time","width","fb","toLocaleTimeString","Duplicates","status","duplicateCheck","StyledDt","dt","StyledDd","dd","Feeds","activeFeed","setActiveFeed","uploadFile","htmlFor","AccountsContainer","AccountsContent","AccountsNav","Accounts","StyledHeader","header","InfoBar","StyledMain","main","App","headerInfo","setHeaderInfo","getMonth","currentYear","getFullYear","exact","text","Boolean","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.f884ed02.chunk.js","sourcesContent":["import styled from \"styled-components\";\nimport React, {createRef, useEffect, useLayoutEffect, useRef, useState} from \"react\";\n\nfunction usePrevious(value) {\n    const ref = useRef();\n    useEffect(() => {\n        ref.current = value;\n    });\n    return ref.current;\n}\n\nconst classes = (...array) => array.filter(i => i != null).reduce((a, b) => {\n    return a && b ? (a + ' ' + b) : a ? a : b ? b : null;\n}, null)\nconst round = n => Math.round((n + Number.EPSILON) * 100) / 100\nconst createRefs1d = (existingArray, n) => Array(n).fill(null).map((_, i) => existingArray[i] || createRef())\n\nexport const Transactions = styled(({\n                                        className,\n                                        filter,\n                                        updateFilter,\n                                        updateSort,\n                                        transactions,\n                                        changeCategoryFor,\n                                        setChangeCategoryFor,\n                                        updateTransaction,\n                                        addTransaction,\n                                        saveTransaction\n                                    }) => {\n    const [dateRefs, setDateRefs] = useState([]);\n    const [descriptionRefs, setDescriptionRefs] = useState([]);\n    const [categoryRefs, setCategoryRefs] = useState([]);\n    const [amountRefs, setAmountRefs] = useState([]);\n    const [activeCell, setActiveCell] = useState(null);\n    const prev = usePrevious({changeCategoryFor, activeCell, filter});\n    const tableContainerRef = useRef(null);\n\n    const focusRef1d = (refArray, i, options) => {\n        if (refArray && refArray[i] && refArray[i].current) {\n            if (tableContainerRef.current) {\n                tableContainerRef.current.scrollTop = 0\n                refArray[i].current.setSelectionRange(0, 0);\n                refArray[i].current.focus()\n            }\n        }\n    };\n\n    useEffect(() => {\n        setDateRefs(createRefs1d(dateRefs, Math.max(transactions.length, dateRefs.length)));\n        setDescriptionRefs(createRefs1d(descriptionRefs, Math.max(transactions.length, descriptionRefs.length)));\n        setCategoryRefs(createRefs1d(categoryRefs, Math.max(transactions.length, categoryRefs.length)));\n        setAmountRefs(createRefs1d(amountRefs, Math.max(transactions.length, amountRefs.length)));\n    }, [transactions.length]);\n\n    useLayoutEffect(() => {\n        if (transactions.length > 0) {\n            focusField('description', 0)\n        }\n    }, [transactions.length])\n\n\n    useEffect(() => {\n        if (!changeCategoryFor && prev && prev.changeCategoryFor) {\n            saveTransaction(prev.changeCategoryFor)\n            if (transactions.findIndex(t => t.uuid === prev.changeCategoryFor) >= 0) {\n                focusRef1d(categoryRefs, withUuid(prev.changeCategoryFor))\n            } else {\n                focusRef1d(categoryRefs, 0)\n            }\n        }\n    }, [changeCategoryFor])\n\n    useEffect(() => {\n        if (activeCell && activeCell.commit && activeCell.t) {\n            saveTransaction(activeCell.t.uuid)\n            setActiveCell(null)\n        }\n    }, [activeCell])\n\n    const focusField = (field, i) => {\n        if (field === 'day' && dateRefs[i] && dateRefs[i].current) {\n            dateRefs[i].current.setSelectionRange(0, 0);\n            dateRefs[i].current.focus()\n        }\n        if (field === 'description' && descriptionRefs[i] && descriptionRefs[i].current) {\n            descriptionRefs[i].current.setSelectionRange(0, 0);\n            descriptionRefs[i].current.focus()\n        }\n        if (field === 'category' && categoryRefs[i] && categoryRefs[i].current) {\n            categoryRefs[i].current.setSelectionRange(0, 0);\n            categoryRefs[i].current.focus();\n        }\n        if (field === 'amount' && amountRefs[i] && amountRefs[i].current) {\n            amountRefs[i].current.setSelectionRange(0, 0);\n            amountRefs[i].current.focus()\n        }\n    }\n\n\n    const withUuid = id => transactions.findIndex(t => t.uuid === id)\n\n    const onKeyDown = (t, field, refArray, i, leftRefArray, rightRefArray) => {\n        return e => {\n            if (e.ctrlKey && e.key === \"s\") {\n                e.stopPropagation()\n                e.preventDefault()\n                updateSort(field)\n            }\n            if (e.ctrlKey) {\n                return;\n            }\n            if (e.key === 'Home' || e.key === 'End')\n                if (isActive(t, field)) e.stopPropagation()\n                else e.preventDefault()\n\n            if (e.key === 'ArrowUp' && !isActive(t, field)) {\n                focusRef1d(refArray, i - 1, {behavior: 'auto', block: 'center', inline: 'center'})\n                e.preventDefault()\n            }\n            if (e.key === 'PageUp' && i > 0) {\n                focusRef1d(refArray, i - 10 > 0 ? i - 10 : 0)\n                e.preventDefault()\n            }\n            if (e.key === 'ArrowDown' && !isActive(t, field)) {\n                focusRef1d(refArray, i + 1, {alignToTop: false})\n                e.preventDefault()\n            }\n            if (e.key === 'PageDown' && i < refArray.length - 1) {\n                focusRef1d(refArray, i + 10 < refArray.length ? i + 10 : refArray.length - 1)\n                e.preventDefault()\n            }\n            if (e.key === 'ArrowLeft' && !isActive(t, field)) {\n                focusRef1d(leftRefArray, i)\n                e.preventDefault()\n            }\n            if (e.key === 'ArrowRight' && !isActive(t, field)) {\n                focusRef1d(rightRefArray, i)\n                e.preventDefault()\n            }\n            if (e.key === 'Enter') {\n                if (field === 'category' && !changeCategoryFor) {\n                    setChangeCategoryFor(t.uuid)\n                }\n            }\n            if (e.key === 'Escape') {\n                if (filter) updateFilter(e)\n                else if (isActive(t, field)) setActiveCell(null)\n            }\n            if (!isActive(t, field)) onKeyDownForFilter(field)(e)\n        }\n    }\n\n    const onKeyDownForFilter = () => e => {\n        updateFilter(e)\n    }\n\n    const isActive = (t, field) => {\n        return activeCell && activeCell.t.uuid === t.uuid && activeCell.field === field\n    }\n\n    const inputCell = (t, field, myRefs, i, value, {rightRefs, leftRefs}, other) => {\n        return <InputCell key={`${t.uuid}_${field}`}\n                          ref={myRefs[i]}\n                          id={`${t.uuid}_${field}`}\n                          isActive={() => isActive(t, field)}\n                          className={classes(field, isActive(t, field) ? 'active' : null)}\n                          onKeyDown={onKeyDown(t, field, myRefs, i, leftRefs, rightRefs)}\n                          readOnly={!isActive(t, field)}\n                          disabled={changeCategoryFor != null}\n                          type='text'\n                          autoFocus={i === 0 && field === 'description' ? true : false}\n                          value={value != null ? value : ''}\n                          onChange={e => updateTransaction(t, field, e.target.value)}\n                          {...other}/>\n    }\n\n    const totalPlus = transactions.map(t => t.amount || 0).filter(a => a > 0).reduce((a, b) => a + b, 0)\n    const totalMinus = transactions.map(t => t.amount || 0).filter(a => a < 0).reduce((a, b) => a + b, 0)\n    const totalAmount = transactions.map(t => t.amount || 0).reduce((a, b) => a + b, 0)\n\n    return <div className={className}>\n        <div className='tableContainer' ref={tableContainerRef}>\n            {transactions.length > 0 &&\n                <table>\n                    <thead>\n                    <tr>\n                        <th key='day-header'>Day</th>\n                        <th key='description-header'>Description</th>\n                        <th key='category-header'>Category</th>\n                        <th key='amount-header'>Amount</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {transactions\n                        .map((t, i) => (<tr key={t.uuid}>\n                            <td key='day'>\n                                {inputCell(t, 'day', dateRefs, i, t.day, {rightRefs: descriptionRefs}, {maxLength: 2})}\n                            </td>\n                            <td key='content'>\n                                {inputCell(t, 'description', descriptionRefs, i, t.description, {\n                                    leftRefs: dateRefs,\n                                    rightRefs: categoryRefs\n                                })}\n                            </td>\n                            <td key='category'>\n                                {inputCell(t, 'category', categoryRefs, i, t.category, {\n                                    leftRefs: descriptionRefs,\n                                    rightRefs: amountRefs\n                                })}\n                            </td>\n                            <td key='amount'>\n                                {inputCell(t, 'amount', amountRefs, i, t.amount, {leftRefs: categoryRefs})}\n                            </td>\n                        </tr>))}\n                    </tbody>\n                </table>}\n        </div>\n        <dl>\n            <dt>Income</dt>\n            <dd>{round(totalPlus)}</dd>\n            <dt>Expenses</dt>\n            <dd>{round(totalMinus)}</dd>\n            <dt>Difference</dt>\n            <dd>{round(totalAmount)}</dd>\n        </dl>\n    </div>\n})`\n\n  position: relative;\n  padding-top: 2rem;\n\n  div.tableContainer {\n    overflow-y: auto;\n    max-height: 75vh;\n  }\n\n  th, td {\n    text-align: left;\n    border: 1px solid #ccc;\n    font-weight: normal;\n  }\n\n  th {\n    position: sticky;\n    top: 0;\n    z-index: 1;\n    background: #ffffff;\n    padding-top: 0.3rem;\n    padding-bottom: 0.3rem;\n  }\n\n  input {\n    display: inline-block;\n    height: 1.4rem;\n    padding: 0.25rem;\n    border: none;\n  }\n\n  input:focus {\n    outline: 2px solid black;\n  }\n\n  input.active {\n    outline: 2px solid blue;\n  }\n\n  input.day {\n    width: 2.5rem;\n  }\n\n  input.description {\n    width: 40rem;\n  }\n\n  input.amount {\n    width: 4rem;\n  }\n\n  button {\n    display: inline-block;\n    border: none;\n    width: 100%;\n    height: 1.4rem;\n    padding: 0.25rem;\n    background-color: transparent;\n  }\n\n  button.category {\n    width: 10rem;\n  }\n\n  button:disabled {\n    background-color: #fafafa;\n  }\n\n  button.changeCategoryFor {\n    background-color: white;\n    outline: 2px solid blue;\n  }\n\n  dt {\n    display: inline-block;\n  }\n\n  dt::after {\n    content: ':';\n  }\n\n  dd {\n    display: inline-block;\n    margin-left: 0.3rem;\n    margin-right: 3rem;\n  }\n`;\n\n\nconst InputCell = React.forwardRef((props, ref) => {\n\n    const {isActive, ...rest} = props\n    const [value, setValue] = useState(props.value)\n\n    useEffect(() => {\n        setValue(props.value)\n    }, [props.value])\n\n\n    const onKeyDown = e => {\n        if (isActive() && e.key === 'Enter') {\n            props.onChange(e)\n        }\n        props.onKeyDown(e)\n    }\n\n    return <input ref={ref}\n                  type='text'\n                  {...rest}\n                  value={value != null ? value : ''}\n                  onChange={e => setValue(e.target.value)}\n                  onKeyDown={onKeyDown}\n    />\n\n})","import styled from \"styled-components\";\nimport React, {createRef, useEffect, useRef, useState} from \"react\";\nimport FocusTrap from \"focus-trap-react\";\n\n\nexport const Categories = styled(({className, categories, changeCategoryFor, categoryChanged, getTransaction, quitCategoryMode}) => {\n    const [selectCatRefs, setSelectCatRefs] = useState([]);\n    const filterTextRef = useRef()\n    const [filterText, setFilterText] = useState(null);\n\n    const filteredCategories = () => categories.filter(c => !filterText || c.name.toLowerCase().includes(filterText.toLowerCase()))\n    const indexOf = categoryName => filteredCategories().findIndex(c => c.name === categoryName)\n\n    /*\n     * build a ref for each category item\n     */\n    useEffect(() => {\n        setSelectCatRefs(createRefsArray(selectCatRefs, categories.length));\n    }, [categories.length]);\n\n    useEffect(() => {\n        if (changeCategoryFor) {\n            if (filteredCategories().length === 0 && filterTextRef.current) {\n                filterTextRef.current.focus()\n            }\n            else {\n                const index = indexOf(getTransaction(changeCategoryFor).category)\n                if (index >= 0) {\n                    if (changeCategoryFor && selectCatRefs[0].current) selectCatRefs[index].current.focus()\n                } else {\n                    if (changeCategoryFor && selectCatRefs[0].current) selectCatRefs[0].current.focus()\n                }\n            }\n        }\n        else {\n            setFilterText(null)\n        }\n    }, [categories, changeCategoryFor, filterText])\n\n    const SelectButton = ({i, name}) => {\n        const props = changeCategoryFor ? {\n            onKeyDown: e => {\n                if (e.key === 'ArrowUp') focusRef1d(selectCatRefs, i-1)\n                if (e.key === 'PageUp') focusRef1d(selectCatRefs, i-10 > 0 ? i-10 : 0)\n                if (e.key === 'ArrowDown') focusRef1d(selectCatRefs, i+1)\n                if (e.key === 'PageDown') focusRef1d(selectCatRefs, i+10 < selectCatRefs.length ? i + 10 : selectCatRefs.length - 1)\n                return true\n            },\n            className: 'selectMode',\n            onClick: () => categoryChanged(name)\n        } : {\n            disabled: true\n        }\n        return <button ref={selectCatRefs[i]} {...props} >{name}</button>\n    }\n\n    const tableKeyEvents = e => {\n        if (e.key === 'Escape'  && filterText) setFilterText(null)\n        if (e.key === 'Escape') quitCategoryMode()\n        if (e.key === 'Backspace' && filterText) setFilterText(filterText.length > 0 ? filterText.substring(0, filterText.length-1) : null)\n        if (dataEntryKeys.test(e.key)) {\n            setFilterText(filterText ? filterText + e.key : e.key)\n        }\n    }\n\n    return <FocusTrap active={changeCategoryFor !== null}>\n        <div className={className} onKeyDown={tableKeyEvents}>\n            { filterText && <header>\n                <input readOnly={true} ref={filterTextRef} value={`name: ${filterText}`}/>\n            </header> }\n            <div className='tableContainer'>\n                <table>\n                    <thead>\n                    <tr>\n                        <th key='name-header'>Name</th>\n                        <th key='total-header'>Total</th>\n                        <th key='count-header'>Count</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {  filteredCategories()\n                        .filter((c => changeCategoryFor || c.total !== 0))\n                        .map((c, i) => (<tr key={c.id}>\n                            <td key='name'><SelectButton i={i} name={c.name}/></td>\n                            <td key='total'><span>{round(c.total || 0)}</span></td>\n                            <td key='count'><span>{c.count || 0}</span></td>\n                        </tr>)) }\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </FocusTrap>})` \n   position: relative; \n   padding-top: 2rem;\n   margin-left: 2rem;\n   \n   div.tableContainer {\n    overflow-y: auto; \n    max-height: 75vh;\n    }    \n   \n   header {\n     position: absolute;\n     left: 0px;\n     top: -2rem;\n     display: block;\n     border: 1px solid black;\n     background: #ffffff;\n     z-index: 2;\n     \n     input {\n      display: inline-block;\n      height: 1.4rem;\n      padding: 0.25rem;\n      border: none;\n     }\n   }\n   \n   th, td {\n      position: relative;\n      text-align: left;\n      font-weight: normal;\n      border: 1px solid #ccc;\n    }\n   th {\n      position: sticky; top: 0;\n      background: #ffffff;   \n      padding-top: 0.3rem;\n      padding-bottom: 0.3rem;\n      padding-left: 1rem;\n      padding-right: 1rem;\n      z-index: 1;\n   } \n   span {\n    padding: 0.25rem;    \n    padding-left: 1rem;\n    padding-right: 1rem;\n   } \n   button {\n    display: inline-block;\n    border: none;\n//    height: 1.9rem;    \n    width: 100%;\n    padding: 0.25rem;    \n    padding-left: 1rem;\n    padding-right: 1rem;\n    background-color: transparent;\n   }   \n   button:focus {\n    background-color: light-grey;\n   }\n   button:disabled {\n    color: black;\n   }\n   selectMode:focus {\n     outline: none\n   }\n`;\n\nconst round = n => Math.round((n + Number.EPSILON) * 100) / 100\nconst dataEntryKeys = new RegExp(\"^[a-zA-Z0-9! \\b]$\");\nconst createRefsArray = (existingArray, n) => Array(n).fill(null).map((_, i) => existingArray[i] || createRef())\nconst focusRef1d = (refArray, i) => refArray && refArray[i] && refArray[i].current && refArray[i].current.focus()\n\n","import styled from \"styled-components\";\n\nimport React from \"react\";\nimport {ResponsiveBar} from \"@nivo/bar\";\n\n\nexport const CategoryBarchart = styled(({className, data}) => <div className={className}>\n    <ResponsiveBar\n        data={data}\n        layout='horizontal'\n        keys={[ 'total']}\n        indexBy=\"name\"\n        margin={{ top: 50, right: 130, bottom: 50, left: 130 }}\n        padding={0.3}\n        axisTop={null}\n        axisRight={null}\n        axisBottom={{\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 0,\n            legend: 'Categories',\n            legendPosition: 'middle',\n            legendOffset: 32\n        }}\n        axisLeft={{\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 0,\n            legend: 'Amount',\n            legendPosition: 'middle',\n            legendOffset: -40\n        }}\n        labelSkipWidth={12}\n        labelSkipHeight={12}\n        legends={[\n            {\n                dataFrom: 'keys',\n                anchor: 'bottom-right',\n                direction: 'column',\n                justify: false,\n                translateX: 120,\n                translateY: 0,\n                itemsSpacing: 2,\n                itemWidth: 100,\n                itemHeight: 20,\n                itemDirection: 'left-to-right',\n                itemOpacity: 0.85,\n                symbolSize: 20,\n                effects: [\n                    {\n                        on: 'hover',\n                        style: {\n                            itemOpacity: 1\n                        }\n                    }\n                ]\n            }\n        ]}\n        animate={true}\n        motionStiffness={90}\n        motionDamping={15}\n    />\n</div>)`\n  height: 600px;\n`\n","import React, {createRef, useEffect, useLayoutEffect, useRef, useState} from 'react';\nimport {useParams, useHistory} from \"react-router-dom\";\n\nimport styled from 'styled-components'\nimport {v4 as uuidv4} from 'uuid';\nimport {Transactions} from \"./Transactions\";\nimport {Categories} from \"./Categories\";\nimport {CategoryBarchart} from \"./CategoryBarchart\";\n\n\nconst DataEntrySection = styled.section`\n  padding-top: 1em;\n  padding-left: 3em;`;\n\nconst ContentDiv = styled.div`\n  display: flex;\n`;\n\nconst HelpContainer = styled.aside`\n  position: fixed;\n  padding: 1em;\n  background: white;\n  height: 25em;\n  width: 40em;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border: 2px solid black;\n  z-index: 2;\n\n  h2 {\n    text-align: center;\n  }\n\n  ol {\n    list-style-type: none;\n\n    li {\n      padding: 1rem 2rem 1rem 2rem;\n    }\n  }\n  ol.sublist {\n    li {\n      padding: 0.5rem 1rem 0.5rem 1rem;\n    }\n  }\n`;\n\nconst classes = array => array.filter(i => i != null).reduce((a, b) => a + ' ' + b)\n\nconst round = n => Math.round((n + Number.EPSILON) * 100) / 100\n\nconst loadTransactions = (year, month) => fetch(`http://localhost:8080/api/transaction/${year}/${month}`)\n    .then(response => response.json())\n    .then(json => json.transactions.map(t => {\n        return {\n            id: t.id,\n            feed: t.feed,\n            uuid: uuidv4(),\n            description: t.description,\n            account: t.account,\n            day: t.day,\n            month: t.month,\n            year: t.year,\n            category: t.category,\n            amount: t.amount\n        }\n    }))\n\nconst loadCurrentMonth = (year, month) => fetch(`http://localhost:8080/api/month/${year}/${month}`)\n    .then(response => response.ok && response.json())\n\nconst toMonthName = month => {\n    if (month === 1) return 'January'\n    if (month === 2) return 'February'\n    if (month === 3) return 'March'\n    if (month === 4) return 'April'\n    if (month === 5) return 'May'\n    if (month === 6) return 'June'\n    if (month === 7) return 'July'\n    if (month === 8) return 'August'\n    if (month === 9) return 'September'\n    if (month === 10) return 'October'\n    if (month === 11) return 'November'\n    if (month === 12) return 'December'\n}\n\nconst dataEntryKeys = new RegExp(\"^[a-zA-Z0-9!>< \\b,.-]$\");\n\nconst passesFilter = (t, filter) => {\n    if (!filter || filter.length == 0) return true;\n    if (filter.startsWith(\">\")) {\n        const number = parseInt( filter.substring(1) )\n        return t.amount > number;\n    }\n    else if (filter.startsWith(\"<\")) {\n        const number = parseInt( filter.substring(1) )\n        return t.amount < number;\n    }\n    else {\n        for (var key in t) {\n            if (t[key] && t[key].toString().toLowerCase().includes(filter.toLowerCase())) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nexport const MonthyReport = styled(({className, onChangeHeaderInfo}) => {\n    const routeParams = useParams()\n    const history = useHistory();\n    const [changeCategoryFor, setChangeCategoryFor] = useState(null)\n    const [monthData, setMonthData] = useState()\n    const [categories, setCategories] = useState([])\n    const [transactions, setTransactions] = useState([])\n    const [filteredTransactions, setFilteredTransactions] = useState([])\n    const [currentMonth, setCurrentMonth] = useState({\n        month: parseInt(routeParams.month),\n        year: parseInt(routeParams.year)\n    })\n    const [showChart, setShowChart] = useState(false)\n    const [showHelp, setShowHelp] = useState(false)\n    const [filter, setFilter] = useState(\"\")\n    const [sort, setSort] = useState(null)\n    const filterRef = useRef()\n\n    const onKeyDown = e => {\n        if (e.getModifierState('Control') && e.key.toLowerCase() === 'g') {\n            setShowChart(!showChart)\n            e.preventDefault()\n            e.stopPropagation()\n        }\n        if (e.getModifierState('Control') && e.key.toLowerCase() === 'h') {\n            setShowHelp(!showHelp)\n            e.preventDefault()\n            e.stopPropagation()\n        }\n        if (e.key === 'Escape') {\n            if (showHelp) {\n                setShowHelp(false)\n                e.preventDefault()\n                e.stopPropagation()\n            }\n            else if (showChart && !filter) {\n                setShowChart(false)\n                e.preventDefault()\n                e.stopPropagation()\n            }\n        }\n        if (e.key === 'End') {\n            setNextMonth()\n            e.preventDefault()\n            e.stopPropagation()\n        }\n        if (e.key === 'Home') {\n            setPrevMonth()\n            e.preventDefault()\n            e.stopPropagation()\n        }\n    }\n\n    useEffect(() => {\n        window.addEventListener(\"keydown\", onKeyDown, true)\n        return function cleanup() {\n            window.removeEventListener(\"keydown\", onKeyDown, true)\n        }\n    })\n\n    useEffect(() => {\n        return history.listen(location => {\n            if (location.pathname.startsWith('/transactions')) {\n                const results = location.pathname.match(/\\/transactions\\/(.+)\\/(.+)/)\n                if (results.length === 3) {\n                    setCurrentMonth({month: parseInt(results[2]), year: parseInt(results[1])})\n                }\n            }\n        })\n    }, [history])\n\n    useEffect(() => {\n        if (transactions.length === 0) {\n            filterRef.current && filterRef.current.focus()\n        }\n    }, [transactions.length])\n    useEffect(() => {\n        if (showChart) {\n            filterRef.current && filterRef.current.focus()\n        }\n    }, [showChart])\n\n\n    useEffect(() => {\n        fetch(loadCurrentMonth(currentMonth.year, currentMonth.month))\n            .then(json => setMonthData(json))\n        fetch('http://localhost:8080/api/categories')\n            .then(response => response.json())\n            .then(json => setCategories(json.categories.sort((a, b) => a.name.localeCompare(b.name))))\n            .then(_ => loadTransactions(currentMonth.year, currentMonth.month))\n            .then(t => setTransactions(t))\n    }, [])\n\n    useEffect(() => {\n        setFilteredTransactions(transactions.filter(t => passesFilter(t, filter)))\n    }, [transactions, filter])\n\n\n    useEffect(() => {\n        onChangeHeaderInfo(<>\n            <span>{toMonthName(currentMonth.month)} {currentMonth.year}</span>\n        </>)\n        loadTransactions(currentMonth.year, currentMonth.month).then(t => setTransactions(t))\n        loadCurrentMonth(currentMonth.year, currentMonth.month).then(m => setMonthData(m))\n    }, [currentMonth])\n\n\n    useEffect(() => {\n        if (filteredTransactions) {\n            setCategories(categories.map(c => {\n                const trans = filteredTransactions.filter(t => t.category === c.name)\n                const newTotal = trans.map(t => t.amount).reduce((total, v) => total + v, 0)\n                return c.total === newTotal ? c : {\n                    id: c.id,\n                    name: c.name,\n                    total: newTotal,\n                    count: trans.length\n                }\n            }))\n        }\n    }, [filteredTransactions, changeCategoryFor])\n\n\n    useEffect(() => {\n        if (filteredTransactions.length == 0) {\n            filterRef.current && filterRef.current.focus()\n        }\n    }, [filteredTransactions])\n\n    const updateFilter = (e) => {\n        //console.log(\"update filter\", filter, key)\n        if (e.key === 'Escape') {\n            setFilter(null)\n            return\n        }\n        if (e.key === 'Backspace') {\n            if (filter && filter.length > 1) {\n                setFilter(filter.substring(0, filter.length - 1))\n            } else {\n                setFilter(null)\n            }\n            return\n        }\n        if (dataEntryKeys.test(e.key)) {\n            if (filter) {\n                setFilter(filter + e.key)\n            } else {\n                setFilter(e.key)\n            }\n        }\n    }\n\n    const updateSort = (field) => {\n        if (sort == null || sort.field !== field) {\n            setSort({field: field, up: true})\n        }\n        else if (sort.field === field && sort.up) {\n            setSort({field: field, up: false})\n        }\n        else {\n            setSort(null)\n        }\n    }\n\n    const addTransaction = i => {\n        const t = [...transactions]\n        t.splice(i, 0, {\n            id: null,\n            uuid: uuidv4(),\n            account: 'Bank Austria',\n            day: null,\n            month: currentMonth.month,\n            year: currentMonth.year,\n            category: null,\n            amount: null\n        })\n        setTransactions(t)\n    }\n\n    const setNextMonth = () => {\n        let result\n        if (currentMonth.month === 12) result = {year: currentMonth.year + 1, month: 1}\n        else result = {year: currentMonth.year, month: currentMonth.month + 1}\n        setCurrentMonth(result)\n        history.push(`/transactions/${result.year}/${result.month}`)\n    }\n    const setPrevMonth = () => {\n        let result\n        if (currentMonth.month === 1) result = {year: currentMonth.year - 1, month: 12}\n        else result = {year: currentMonth.year, month: currentMonth.month - 1}\n        setCurrentMonth(result)\n        history.push(`/transactions/${result.year}/${result.month}`)\n    }\n\n    const categoryChanged = cat => {\n        transactions.filter(t => t.uuid === changeCategoryFor).forEach(t => t.category = cat)\n        setChangeCategoryFor(null)\n    }\n    const quitCategoryMode = _ => {\n        setChangeCategoryFor(null)\n    }\n    const getTransaction = uuid => transactions.find(t => t.uuid === uuid)\n    const updateTransaction = (t, field, value) => {\n        console.log(\"UT \", t, field, value)\n        const newT = {...t}\n        newT[field] = value\n        setTransactions(transactions.map(x => x.uuid === newT.uuid ? newT : x))\n    }\n\n    const saveTransaction = (t_uuid) => {\n        const t = transactions.find(t => t.uuid === t_uuid)\n        console.log(t)\n        if (t) {\n            fetch(`http://localhost:8080/api/transaction`, {\n                method: 'POST',\n                headers: {'Content-Type': 'application/json'},\n                body: JSON.stringify(t)\n            })\n                .then(response => response.json())\n                .then(savedT => {\n                    const result = {...t, ...savedT}\n                    setTransactions(transactions.map(x => x.uuid === result.uuid ? result : x))\n                })\n        }\n    }\n\n    const compareDescriptions = (a,b) => {\n        if (a.description > b.description) return 1\n        else if (a.description === b.description) return 0\n        else return -1\n    }\n    const compareCategories = (a,b) => {\n        if (a.category > b.category) return 1\n        else if (a.category === b.category) return 0\n        else return -1\n    }\n    const sortTransactions = (transactions) => {\n        if (sort == null) {\n            return transactions;\n        }\n        else if (sort.field === \"amount\") {\n            return [...transactions].sort((a, b) => sort.up ? a.amount - b.amount : b.amount - a.amount)\n        }\n        else if (sort.field === \"description\") {\n            return [...transactions].sort((a, b) => {\n                if (sort.up) {\n                    return compareDescriptions(a,b)\n                }\n                else {\n                    return compareDescriptions(a,b) * -1\n                }\n            })\n        }\n        else if (sort.field === \"category\") {\n            return [...transactions].sort((a, b) => {\n                if (sort.up) {\n                    return compareCategories(a,b)\n                }\n                else {\n                    return compareCategories(a,b) * -1\n                }\n            })\n        }\n        else {\n            return transactions;\n        }\n    }\n\n    const renderFilter = () => {\n        return <header className='filter'>\n            <label>Filtered <input ref={filterRef}\n                                  readOnly={true}\n                                  value={filter || ''}\n                                 onKeyDown={updateFilter}/>\n            </label>\n        </header>\n    }\n\n    const renderSort = () => {\n        const sortDirection = () => {\n            if (sort.up) return \"ascending\"\n            else return \"descending\"\n        }\n        return sort && <header className='sort'>\n            <span>Sorted by {sort && sort.field}  {sortDirection()}</span>\n        </header>\n    }\n\n    return (\n        <DataEntrySection className={className}>\n            {showHelp &&\n                <HelpContainer className={className}>\n                    <h2>HELP</h2>\n                    <ol>\n                        <li><b>Navigation:</b> ←, ↑, →, ↓, PageUp,PageDown</li>\n                        <li><b>Filter Table data:</b> type when a table cell is highlighted\n                            <ol className={'sublist'}>\n                                <li><b>&gt;</b>&nbsp;&nbsp;filter on transactions with an amount higher than</li>\n                                <li><b>&lt;</b>&nbsp;&nbsp;filter on transactions with an amount less than</li>\n                            </ol>\n                        </li>\n                        <li><b>Sort Table data:</b> CTRL + S to sort with the highlighted table cell</li>\n                        <li><b>Prev/Next month:</b> Home/End</li>\n                        <li><b>Toggle Graph:</b> CTRL + G</li>\n                    </ol>\n                </HelpContainer>}\n            {showChart ? (<>\n                {renderFilter()}\n                <CategoryBarchart data={categories\n                    .filter(c => c.total !== 0)}/>\n            </>) : (\n                <>\n                    {(filter != null && filter.length > 0) && renderFilter()}\n                    {renderSort()}\n                    <ContentDiv>\n                        <Transactions {...{\n                            filter,\n                            updateFilter,\n                            updateSort,\n                            transactions: sortTransactions(filteredTransactions),\n                            changeCategoryFor, setChangeCategoryFor,\n                            updateTransaction,\n                            addTransaction,\n                            saveTransaction\n                        }}/>\n                        <Categories {...{\n                            categories,\n                            changeCategoryFor,\n                            categoryChanged,\n                            getTransaction,\n                            quitCategoryMode\n                        }}/>\n                    </ContentDiv>\n                    </>)}\n            <footer>\n                <dl>\n                    <dt>Month Start</dt>\n                    <dd>{monthData && round(monthData.startingBalance || 0)}</dd>\n                    <dt>Month End</dt>\n                    <dd>{monthData && round(transactions.map(t => t.amount).reduce((a, b) => a + b, monthData.startingBalance || 0))}</dd>\n                </dl>\n            </footer>\n        </DataEntrySection>)\n})`\n  header.filter {\n    position: absolute;\n    display: inline-block;\n    input {\n      font-size: 1em;\n      border: 1px solid black;\n      padding-top: 5px;\n      padding-left: 5px;\n      padding-bottom: 5px;\n    }\n    background: #ffffff;\n    z-index: 2;\n  }\n\n  header.sort {\n    position: absolute;\n    display: inline-block;\n    left: 30em ;\n    font-size: 1em;\n    padding-top: 5px;\n    padding-left: 5px;\n    padding-bottom: 5px;\n    background: #ffffff;\n    z-index: 2;\n  }\n\n  th {\n    padding-top: 0.3rem;\n    width: 3rem;\n    font-weight: normal;\n    padding-right: 0;\n  }\n\n  \n  dt {\n    display: inline-block;\n  }\n\n  dt::after {\n    content: ':';\n  }\n\n  dd {\n    display: inline-block;\n    margin-left: 0.3rem;\n    margin-right: 3rem;\n  }\n\n`\n","import React, {useEffect, useState} from \"react\";\n\nimport styled from \"styled-components\";\nimport {ResponsiveLine} from \"@nivo/line\";\n\nexport const BalanceReport = props => {\n\n    const [data, setData] = useState(null)\n\n    useEffect(() =>{\n        fetch(`http://localhost:8080/api/timeseries/balance`)\n            .then(response => response.json())\n            .then(json => json.data.map(d =>{ return {\n                id: d.id,\n                data: d.data.map(v => {\n                    return {\n                        x: v.date,\n                        y: v.amount,\n                    }})\n            }}))\n            .then(data => {\n                setData(data)\n            })\n    }, [])\n\n    console.log(data)\n\n\n    return (<div>\n        { data  && <MyResponsiveLine data={data}/> }\n    </div>)\n}\n\nconst MyResponsiveLine = styled(({className, data}) => <div className={className}>\n    <ResponsiveLine\n        data={data}\n        margin={{ top: 50, right: 110, bottom: 100, left: 60 }}\n        xScale={{\n            type: 'time',\n            format: '%Y-%m-%d',\n            useUTC: false,\n            precision: 'day'\n        }}\n        xFormat=\"time:%Y-%m-%d\"\n        yScale={{ type: 'linear', min: 'auto', max: 'auto' }}\n        curve=\"cardinal\"\n        lineWidth={4}\n        axisTop={null}\n        axisRight={null}\n        axisBottom={{\n            orient: 'bottom',\n            format: '%d %b %y',\n            tickValues: 'every month',\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 90,\n            legend: 'time',\n            legendOffset: 36,\n            legendPosition: 'center'\n        }}\n        axisLeft={{\n            orient: 'left',\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 0,\n            legend: 'count',\n            legendOffset: -40,\n            legendPosition: 'center'\n        }}\n        pointSize={10}\n        pointColor={{ theme: 'background' }}\n        pointBorderWidth={2}\n        pointBorderColor={{ from: 'serieColor' }}\n        pointLabel=\"y\"\n        pointLabelYOffset={-12}\n        useMesh={true}\n        legends={[\n            {\n                anchor: 'bottom-right',\n                direction: 'column',\n                justify: false,\n                translateX: 100,\n                translateY: 0,\n                itemsSpacing: 0,\n                itemDirection: 'left-to-right',\n                itemWidth: 80,\n                itemHeight: 20,\n                itemOpacity: 0.75,\n                symbolSize: 12,\n                symbolShape: 'circle',\n                symbolBorderColor: 'rgba(0, 0, 0, .5)',\n                effects: [\n                    {\n                        on: 'hover',\n                        style: {\n                            itemBackground: 'rgba(0, 0, 0, .03)',\n                            itemOpacity: 1\n                        }\n                    }\n                ]\n            }\n        ]}\n    />\n</div>)`\n  height: 85vh;\n  width: 95%;\n`\n","import React, {useEffect, useState} from \"react\";\n\nimport styled from \"styled-components\";\nimport {ResponsiveLine} from \"@nivo/line\";\n\nexport const CategoriesReport = props => {\n\n    const [category, setCategory] = useState(null)\n    const [description, setDescription] = useState(null)\n    const [total, setTotal] = useState(0)\n    const [min, setMin] = useState(1)\n    const [data, setData] = useState(null)\n    const [filteredData, setFilteredData] = useState(null)\n\n    useEffect(() =>{\n        loadData()\n    }, [])\n\n    useEffect(() =>{\n        loadData()\n    }, [description])\n\n\n    useEffect(() => {\n        setFilteredData(data ? filterData(data) : null)\n    }, [data, category, total, min])\n\n\n    const loadData = _ => {\n        var url = 'http://localhost:8080/api/timeseries/categories'\n        if (description) {\n            url += `?description=${description}`\n        }\n\n        return fetch(url)\n            .then(response => response.json())\n            .then(json => json.data.map(d =>{ return {\n                id: d.id,\n                data: d.data.map(v => {\n                    return {\n                        x: v.date,\n                        y: v.amount,\n                    }})\n            }}))\n            .then(data => {\n                setData(data)\n            })\n    }\n\n    const filterData = data => data\n        .filter(d => !category || d.id.toLowerCase().includes(category))\n        .filter(d => isNaN(total) || Math.abs(d.data.map(z => z.y).reduce((a,b) => a+b, 0)) >= total)\n        .filter(d => isNaN(min) || d.data.map(z => z.y).reduce((a,b) => {\n            const [aa, ab] = [Math.abs(a), Math.abs(b)]\n            return aa > ab  ? aa : ab }, 0) >= min)\n\n\n    const onKeyDownCapture = e => {\n        if (e.key === 'Escape') {\n            setDescription(null)\n            setCategory(null)\n            setTotal(0)\n            setMin(1)\n        }\n    }\n\n    return (<div onKeyDownCapture={onKeyDownCapture}>\n        Description: <input name='description' value={description || ''} onChange={e => setDescription(e.target.value)}/>\n        Category: <input name='category' value={category || ''} onChange={e => setCategory(e.target.value)}/>\n        Total Over Period: <input name='total' value={total || ''} onChange={e => setTotal(parseInt(e.target.value)) }/>\n        Can Exceed: <input name='min' value={min || ''} onChange={e =>  setMin(parseInt(e.target.value)) }/>\n        {filteredData ? filteredData.length : 0 } Categories\n        { filteredData  && <MyResponsiveLine data={filteredData}/> }\n    </div>)\n}\n\nconst MyResponsiveLine = styled(({className, data}) => <div className={className}>\n    <ResponsiveLine\n        data={data}\n        margin={{ top: 50, right: 110, bottom: 100, left: 60 }}\n        xScale={{\n            type: 'time',\n            format: '%Y-%m-%d',\n            useUTC: false,\n            precision: 'month'\n        }}\n        xFormat=\"time:%Y-%m-%d\"\n        yScale={{ type: 'linear', min: 'auto', max: 'auto' }}\n        curve=\"cardinal\"\n        lineWidth={4}\n        axisTop={null}\n        axisRight={null}\n        axisBottom={{\n            orient: 'bottom',\n            format: '%d %b %y',\n            tickValues: 'every month',\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 90,\n            legend: 'time',\n            legendOffset: 36,\n            legendPosition: 'center'\n        }}\n        axisLeft={{\n            orient: 'left',\n            tickSize: 5,\n            tickPadding: 5,\n            tickRotation: 0,\n            legend: 'count',\n            legendOffset: -40,\n            legendPosition: 'center'\n        }}\n        pointSize={10}\n        pointColor={{ theme: 'background' }}\n        pointBorderWidth={2}\n        pointBorderColor={{ from: 'serieColor' }}\n        pointLabel=\"y\"\n        pointLabelYOffset={-12}\n        useMesh={true}\n        legends={[\n            {\n                anchor: 'bottom-right',\n                direction: 'column',\n                justify: false,\n                translateX: 100,\n                translateY: 0,\n                itemsSpacing: 0,\n                itemDirection: 'left-to-right',\n                itemWidth: 80,\n                itemHeight: 20,\n                itemOpacity: 0.75,\n                symbolSize: 12,\n                symbolShape: 'circle',\n                symbolBorderColor: 'rgba(0, 0, 0, .5)',\n                effects: [\n                    {\n                        on: 'hover',\n                        style: {\n                            itemBackground: 'rgba(0, 0, 0, .03)',\n                            itemOpacity: 1\n                        }\n                    }\n                ]\n            }\n        ]}\n    />\n</div>)`\n  height:90vh;\n  width: 95%;\n`\n","import React, {useEffect, useState} from \"react\";\n\nimport {useParams} from \"react-router-dom\";\nimport {CategoryBarchart} from \"../monthlyreport/CategoryBarchart\";\n\nexport const YearReport = props =>  {\n\n    const { year } = useParams()\n    const [categories, setCategories] = useState(null)\n\n    useEffect(() => {\n        fetch(`http://localhost:8080/api/year/${year}/categories`)\n            .then(response => response.json())\n            .then(json => setCategories(json.data))\n    }, [year])\n\n\n    return (<div>\n        <h2>Year report for {year}</h2>\n        { categories &&  <CategoryBarchart data={categories}/> }\n    </div>)\n}","import React, {useEffect, useState} from \"react\";\n\nimport {BalanceReport} from \"./BalanceReport\";\nimport {CategoriesReport} from \"./CategoriesReport\";\nimport styled from \"styled-components\";\nimport {NavLink, Route, Switch} from \"react-router-dom\";\nimport {YearReport} from \"./YearReport\";\n\nconst ReportsContainer = styled.div`\n    display: flex;\n`\n\nconst ReportsContent = styled.div`\n padding-left: 2rem;\n flex-grow: 2;\n`\n\nconst ReportsNav = styled.div`\n flex-grow: 0;\n padding-left: 2rem;\n ol {\n    list-style-type: none;\n    padding-left: 0;\n }\n ol > li  ol > li  {\n    padding-left: 2rem;\n }\n a {\n      text-align: center;\n      display: block;\n      color: black;\n      height: 3rem;\n      line-height: 3rem;\n      text-decoration: none;\n  }\n \n .navActive {\n    background-color: #DCDCDD;\n }\n`\n\n\nexport const Reports = props => {\n\n    const [years, setYears] = useState(null)\n\n    useEffect(() =>{\n        loadData()\n    }, [])\n\n    const loadData = () => {\n        var url = 'http://localhost:8080/api/years'\n        return fetch(url)\n            .then(response => response.json())\n            .then(json => setYears(json.years))\n    }\n\n    return (\n    <ReportsContainer>\n        <ReportsNav>\n            <ol>\n                <li><NavLink activeClassName='navActive' to='/reports/timeline'>Overview</NavLink></li>\n               { years && years.map(y => <li key={y}><NavLink activeClassName='navActive' to={`/reports/year/${y}`}>{y}</NavLink></li>) }\n            </ol>\n        </ReportsNav>\n        <ReportsContent>\n            <Switch>\n                <Route key='1' path='/reports/year/:year'>\n                    <YearReport/>\n                </Route>\n                <Route key='1' path='/reports'>\n                    <BalanceReport/>\n                    <CategoriesReport/>\n                </Route>\n            </Switch>\n        </ReportsContent>\n   </ReportsContainer>)\n}\n","\nconst o_date = new Intl.DateTimeFormat('de-de', {\n    day: 'numeric',\n    month: 'numeric',\n    year: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric'\n});\nconst f_date = (m_ca, m_it) => Object({...m_ca, [m_it.type]: m_it.value});\nexport const formatDDMMYYYY = date => {\n    const d = o_date.formatToParts(date).reduce(f_date, {});\n    return d.day + '.' + d.month + '.' + d.year\n}\n\nexport const formatHHMM = date => {\n    const d = o_date.formatToParts(date).reduce(f_date, {});\n    return d.hour + ':' + d.minute\n}","import React, {useEffect, useReducer, useState} from 'react';\nimport styled from \"styled-components\";\nimport {v4 as uuidv4} from \"uuid\";\nimport {formatDDMMYYYY, formatHHMM} from \"../util\";\n\n\nexport const Upload = styled(({className}) => {\n\n    const [accounts, setAccounts] = useState([])\n    const [feeds, setFeeds] = useState([])\n    const [statements, setStatements] = useState([])\n    const [newAccountName, setNewAccountName] = useState([])\n    const [uploadToAccount, setUploadToAccount] = useState(null)\n    const [currentBalance, setCurrentBalance] = useState(null)\n    const [file, setFile] = useState(null)\n    const [dupsForFeed, setDupsForFeed] = useState(null)\n    const [dups, dispatchDups] = useReducer(dupsReducer, [])\n\n    const [categories, dispatchCat] = useReducer(categoriesReducer, []);\n\n    useEffect(() => {\n        loadAccounts()\n        loadFeeds()\n        loadStatements()\n        loadCategories()\n    }, [])\n\n    function dupsReducer(state, action) {\n        console.log(action)\n        switch (action.type) {\n            case 'set-dups':\n                return action.duplicates;\n            case 'change-dup':\n                const v = Object.assign({}, state);\n                v[action.hash] = state[action.hash].map(d => {\n                    return  d.recordNumber === action.recordNumber ? {...d, duplicate: !d.duplicate} : d;\n                })\n                return v;\n            case 'make-assumptions':\n                Object.keys(state).forEach(k => {\n                    if (state[k].length === 1) state[k][0].duplicate = true\n                    else {\n                        state[k][0].duplicate = false\n                        state[k].slice(1).forEach(d => {\n                            d.duplicate = true\n                        })\n                    }\n                })\n                return { ...state }\n        }\n    }\n\n    function categoriesReducer(state, action) {\n        switch (action.type) {\n            case 'add-category':\n                return [...state, { id: uuidv4(), name: null, matchers: []}]\n            case 'remove-category':\n                return state.filter(c => c.id !== action.categoryId)\n            case 'update-category-name':\n                return state.map(c => c.id === action.categoryId ? {\n                    ...c,\n                    name: action.name } : c )\n            case 'add-matcher':\n                return state.map(c => c.id === action.categoryId ? {\n                    ...c,\n                    matchers: [...c.matchers, {id : uuidv4(), pattern: null}]} : c)\n            case 'remove-matcher':\n                return state.map(c => c.id === action.categoryId ? {\n                    ...c,\n                    matchers: c.matchers.filter(m => m.id !== action.matcherId) } : c)\n            case 'update-matcher':\n                return state.map(c => c.id === action.categoryId ? {\n                    ...c,\n                    matchers: c.matchers.map(m => m.id === action.matcherId ? {\n                        ...m,\n                        pattern: action.pattern\n                    } : m)} : c)\n            case 'load':\n                return action.categories\n            default:\n                throw new Error();\n        }\n    }\n\n    const loadAccounts = () => fetch(`http://localhost:8080/account`)\n        .then(response => response.json())\n        .then(json => setAccounts(json.accounts))\n\n    const loadFeeds = () => fetch(`http://localhost:8080/feed`)\n        .then(response => response.json())\n        .then(json => setFeeds(json.feeds))\n\n    const loadStatements = () => fetch(`http://localhost:8080/statement`)\n        .then(response => response.json())\n        .then(json => setStatements(json.statements))\n\n    const loadCategories = () => fetch(`http://localhost:8080/category`)\n        .then(response => response.json())\n        .then(json => dispatchCat({type: 'load', categories: json.categories}))\n\n    const addAccount = () => fetch(`http://localhost:8080/account/${newAccountName}`, { method: 'PUT' })\n        .then(response => response.ok && loadAccounts())\n\n    const deleteAccount = (accountId) => fetch(`http://localhost:8080/account/${accountId}`, { method: 'DELETE' })\n        .then(response => response.ok && loadAccounts())\n\n    const deleteImport = (feedId) => fetch(`http://localhost:8080/feed/${feedId}`, { method: 'DELETE' })\n        .then(response => response.ok && loadAccounts() && loadFeeds() && loadStatements())\n\n    const duplicateCheck = (feedId) => fetch(`http://localhost:8080/duplicateCheck/${feedId}`, { method: 'GET' })\n        .then(response => response.ok && response.json())\n        .then(json => {\n            setDupsForFeed(feedId)\n            dispatchDups({type: 'set-dups', duplicates: groupByHash(json.duplicates)})\n        })\n\n    const saveCategories = () => fetch(`http://localhost:8080/category`, {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify(categories)})\n        .then(response => loadCategories())\n\n    const saveDuplicates = () => fetch(`http://localhost:8080/duplicates/${dupsForFeed}`, {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify(dups)})\n        .then(response => response.ok && response.json())\n        .then(json => dispatchDups({type: 'set-dups', duplicates: groupByHash(json.duplicates)}))\n\n\n    const upload = (account) => {\n        const formData = new FormData()\n        formData.append('file', file)\n        if (currentBalance)\n            formData.append('currentBalance', currentBalance)\n        fetch(`http://localhost:8080/upload/${account.name}`,{\n            method: 'POST',\n            body: formData\n        }).then(response => response.json())\n        .then(response => {\n            if (!response.error) {\n                setDupsForFeed(response.feedId)\n                dispatchDups({type: 'set-dups', duplicates: groupByHash(response.duplicates)})\n                loadAccounts();\n                loadFeeds();\n                setDupsForFeed(feeds.filter(f => f.file === file.name).first)\n                loadStatements()\n            }\n        })\n    }\n    const groupByHash = duplicates => {\n        const result = {}\n        duplicates.forEach(d => result[d.contentHash] ? result[d.contentHash].push(d) : result[d.contentHash] = [d])\n        return result\n    }\n\n    const setDuplicateAssumption = dup => {\n        if (dup.length === 1) dup[0].duplicate = true\n        else {\n            dup[0].duplicate = false\n            dup.slice(1).forEach(d => { d.duplicate = true})\n        }\n        return dup\n    }\n\n    const rowStyleFor = dup => { if (dup.duplicate) return 'duplicate-row'; else return ''; }\n\n    return (<div className={className}>\n        <section>\n            <h2>Accounts</h2>\n            <ul>\n                { accounts && accounts.map(a => (<>\n                <li>{a.name} - <button onClick={_ => deleteAccount(a.id)}>Delete</button><button onClick={_ => setUploadToAccount(a.id)}>Upload</button></li>\n                <ul>\n                    <li>Number of transactions: {a.numberOfTransactions}</li>\n                    <li>Number of statements: {statements && statements.filter(s => s.accountId === a.id).length}</li>\n                    <li>Uploads:</li>\n                    { feeds.length > 0 && (<ol>\n                        {feeds.map(f => (<li>{f.file} uploaded on {formatDDMMYYYY(new Date(f.dateImported))} at {formatHHMM(new Date(f.dateImported))}\n                        <button onClick={() => duplicateCheck(f.id)}>duplicate check</button>\n                        <button onClick={() => deleteImport(f.id)}>delete</button>\n                        </li>))}\n                    </ol>) }\n                    { uploadToAccount === a.id && (<ol>\n\n                        { statements.filter(s => s.accountId === a.id).length === 0 && <li>Please specify the most current balance\n                            <input name='balance'\n                                   type='input'\n                                   value={currentBalance !== null ? currentBalance : ''}\n                                   onChange={e => setCurrentBalance(e.target.value)}/></li> }\n                        <li>Please select file  to upload\n                                <input name='upload'\n                                       type='file'\n                                       onChange={e => setFile(e.target.files[0])}/></li>\n                        <li><button onClick={() => upload(a)}>Go!</button></li>\n                    </ol>)}\n                </ul></>)) }\n\n                <li>New: <input name='newAccount' value={newAccountName} onChange={e => setNewAccountName(e.target.value)}/>\n                    <button onClick={_ => addAccount()}>Add</button></li>\n            </ul>\n        </section>\n        { dups && Object.keys(dups).length > 0 && (<section>\n            <h2>Duplicates</h2>\n            <button name=\"assumptions\" onClick={_ => dispatchDups({type: 'make-assumptions'})}>Assumptions</button>\n            <table>\n                <thead>\n                <tr>\n                    <th>line</th>\n                    <th>content</th>\n                    <th>Duplicate</th>\n                </tr>\n                </thead>\n                <tbody>\n                { Object.keys(dups).map((k, i) => <>\n                        <tr key={`${i}-dashed}`}><td>----------------</td></tr>\n                        { dups[k].map((d,j) =>  <tr key={`${i}-${j}`} className={rowStyleFor(d)}>\n                            <td>{d.recordNumber}</td>\n                            <td><label for={`duplicate-${i}-${j}`}>{d.content}</label></td>\n                            <td>{d.count}</td>\n                            <td><input id={`duplicate-${i}-${j}`}\n                                       name={`duplicate-${i}-${j}`}\n                                       type=\"checkbox\"\n                                       checked={d.duplicate}\n                                       onChange={_ => dispatchDups(\n                                           {   type: 'change-dup',\n                                               hash: d.contentHash,\n                                               recordNumber: d.recordNumber,\n                                               duplicate: !d.duplicate})}/>\n                            </td>\n                        </tr>)}\n                        </>)}\n                </tbody>\n            </table>\n            <button name='save'onClick={() => saveDuplicates()}>Save</button>\n        </section>)}\n\n        <section>\n            <h2>Categories</h2>\n            <ul>\n                { categories && categories.map(c => (<>\n                    <li><input name={`category-${c.id}`} value={c.name} onChange={e => dispatchCat({type: 'update-category-name', categoryId: c.id, name: e.target.value})}/>\n                        <button onClick={() => dispatchCat({type: 'remove-category', categoryId: c.id})}>X</button>\n                    </li>\n                    <ul>\n                        { c.matchers && c.matchers.map(m => <li><input name={m.id} value={m.pattern} onChange={e => dispatchCat({type: 'update-matcher', categoryId: c.id, matcherId: m.id, pattern: e.target.value})}/>\n                        <button onClick={() => dispatchCat({type: 'remove-matcher', categoryId: c.id, matcherId: m.id})}>X</button>\n                        </li>)}\n                        <li><button onClick={_ => dispatchCat({type: 'add-matcher', categoryId: c.id})}>Add</button></li>\n                        </ul></>))}\n                <li><button onClick={_ => dispatchCat({type: 'add-category'})}>Add</button></li>\n            </ul>\n            <button onClick={saveCategories}>Save</button>\n        </section>\n    </div>)\n})` \n\n .duplicate-row {\n   text-decoration: line-through;\n }\n `","import React, {useEffect, useState} from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nexport const Overview = props => {\n    const { accountName } = useParams()\n    const [overview, setOverview] = useState(null)\n\n    useEffect(() => {\n        fetch(`http://localhost:8080/api/account/${accountName}/overview`)\n            .then(response => response.ok && response.json())\n            .then(json => setOverview(json))\n    }, [])\n\n    console.log(overview)\n    return (<div>\n        <h2>Overview</h2>\n        { overview && (<dl>\n            <dt>From</dt>\n            <dd>{new Date(overview.fromDate).toLocaleDateString()}</dd>\n            <dt>To</dt>\n            <dd>{new Date(overview.toDate).toLocaleDateString()}</dd>\n            <dt>Transactions</dt>\n            <dd>{overview.numberOfTransactions}</dd>\n            <dt>End of Month Statements Generated</dt>\n            <dd>{overview.numberOfStatements}</dd>\n        </dl>)\n        }\n    </div>)\n}","import React, {useEffect, useState} from \"react\";\nimport { v4 as uuidv4 } from 'uuid';\n\nimport {useParams} from \"react-router-dom\";\n\nexport const FixedBalances = props => {\n    const { accountName } = useParams()\n    const [fixedBalances, setFixedBalances] = useState([])\n    const [dateInput, setDateInput] = useState(null)\n    const [amountInput, setAmountInput] = useState(null)\n\n    useEffect(() => {\n        loadFixedBalances()\n    }, [])\n\n    const loadFixedBalances = () => fetch(`http://localhost:8080/api/account/${accountName}/fixedbalance`)\n        .then(response => response.ok && response.json())\n        .then(json => setFixedBalances(json.balances))\n\n    const saveFixedBalance = () => {\n        fetch(`http://localhost:8080/api/account/${accountName}/fixedbalance`, {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n                id: uuidv4(),\n                time: dateInput,\n                amount: amountInput\n            })})\n            .then(response => response.ok && response.json())\n            .then(json => setFixedBalances(json.balances))\n    }\n\n    return (<div>\n        <h2>Fixed Balances</h2>\n        Date: <input name='date' type='text' value={dateInput} onChange={e => setDateInput(e.target.value)}/>\n        Amount: <input name='amount' type='text' value={amountInput} onChange={e => setAmountInput(e.target.value)}/>\n        <button name='save' onClick={_ => saveFixedBalance()}>Add</button>\n        <table width='60%'>\n            <thead>\n            <tr>\n                <th key='th0'>Date</th>\n                <th key='th1'>Amount</th>\n            </tr>\n            </thead>\n            <tbody>\n            { fixedBalances && fixedBalances.map( fb => <tr>\n                    <td>{new Date(fb.time).toLocaleDateString('en', { year: 'numeric', month: 'long', day: 'numeric' })} {new Date(fb.time).toLocaleTimeString()}</td>\n                    <td>{fb.amount}</td>\n                </tr>)}\n            </tbody>\n        </table>\n    </div>)\n}","import React, {useEffect, useReducer, useState} from \"react\";\nimport styled from \"styled-components\";\n\n\nexport const Duplicates = styled( ({className, feedId})  => {\n\n    const [dupsForFeed, setDupsForFeed] = useState(null)\n    const [dups, dispatchDups] = useReducer(dupsReducer, [])\n\n    console.log(feedId)\n\n    const duplicateCheck = (feedId) => fetch(`http://localhost:8080/api/duplicateCheck/${feedId}`, { method: 'GET' })\n        .then(response => response.status === 200 && response.json())\n        .then(json => {\n            if (json) {\n                setDupsForFeed(feedId)\n                dispatchDups({type: 'set-dups', duplicates: groupByHash(json.duplicates)})\n            }\n        })\n\n    const saveDuplicates = () => fetch(`http://localhost:8080/api/duplicates/${dupsForFeed}`, {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify(dups)})\n        .then(response => response.ok && response.json())\n        .then(json => dispatchDups({type: 'set-dups', duplicates: groupByHash(json.duplicates)}))\n\n    const groupByHash = duplicates => {\n        const result = {}\n        duplicates.forEach(d => result[d.contentHash] ? result[d.contentHash].push(d) : result[d.contentHash] = [d])\n        return result\n    }\n\n    const rowStyleFor = dup => { if (dup.duplicate) return 'duplicate-row'; else return ''; }\n\n    useEffect(() => {\n        duplicateCheck(feedId)\n    }, [feedId])\n\n    function dupsReducer(state, action) {\n        console.log(action)\n        switch (action.type) {\n            case 'set-dups':\n                return action.duplicates;\n            case 'change-dup':\n                const v = Object.assign({}, state);\n                v[action.hash] = state[action.hash].map(d => {\n                    return  d.recordNumber === action.recordNumber ? {...d, duplicate: action.duplicate} : d;\n                })\n                return v;\n            case 'make-assumptions':\n                Object.keys(state).forEach(k => {\n                    if (state[k].length === 1) state[k][0].duplicate = true\n                    else {\n                        state[k][0].duplicate = false\n                        state[k].slice(1).forEach(d => {\n                            d.duplicate = true\n                        })\n                    }\n                })\n                return { ...state }\n        }\n    }\n\n    return dups && Object.keys(dups).length > 0 && (<section className={className}>\n            <h2>Duplicates</h2>\n            <button name=\"assumptions\" onClick={_ => dispatchDups({type: 'make-assumptions'})}>Assumptions</button>\n            <button name='save'onClick={() => saveDuplicates()}>Save</button>\n            <table>\n                <thead>\n                <tr>\n                    <th>line</th>\n                    <th>content</th>\n                    <th>Duplicate</th>\n                </tr>\n                </thead>\n                <tbody>\n                { Object.keys(dups).map((k, i) => <>\n                    <tr key={`${i}-dashed}`}><td>----------------</td></tr>\n                    { dups[k].map((d,j) =>  <tr key={`${i}-${j}`} className={rowStyleFor(d)}>\n                        <td key={`d1-${i}-${j}`}>{d.recordNumber}</td>\n                        <td key={`d2-${i}-${j}`}><label for={`duplicate-${i}-${j}`}>{d.content}</label></td>\n                        <td key={`d3-${i}-${j}`}>{d.count}</td>\n                        <td key={`d4-${i}-${j}`} className='radio'>\n                            <label>yes\n                                <input id={`duplicate-${i}-${j}`}\n                                       name={`duplicate-${i}-${j}`}\n                                       type=\"radio\"\n                                       value=\"yes\"\n                                       checked={d.duplicate === true}\n                                       onChange={_ => dispatchDups(\n                                           {   type: 'change-dup',\n                                               hash: d.contentHash,\n                                               recordNumber: d.recordNumber,\n                                               duplicate: true})}/>\n                            </label>\n                            <label>no\n                                <input id={`duplicate-${i}-${j}`}\n                                       name={`duplicate-${i}-${j}`}\n                                       type=\"radio\"\n                                       value=\"no\"\n                                       checked={d.duplicate !== true && d.duplicate !== null}\n                                       onChange={_ => dispatchDups(\n                                           {   type: 'change-dup',\n                                               hash: d.contentHash,\n                                               recordNumber: d.recordNumber,\n                                               duplicate: false})}/>\n                            </label>\n                            <label>don't know\n                                <input id={`duplicate-${i}-${j}`}\n                                       name={`duplicate-${i}-${j}`}\n                                       type=\"radio\"\n                                       value=\"unknown\"\n                                       checked={d.duplicate === null}\n                                       onChange={_ => dispatchDups(\n                                           {   type: 'change-dup',\n                                               hash: d.contentHash,\n                                               recordNumber: d.recordNumber,\n                                               duplicate: null})}/>\n                            </label>\n                        </td>\n                    </tr>)}\n                </>)}\n                </tbody>\n            </table>\n        </section>)\n})` \n\n .duplicate-row {\n   td {\n    text-decoration: line-through;\n   }\n   td.radio {\n    text-decoration: none;\n   }\n   \n }\n `","import React, {useEffect, useReducer, useState} from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport {Duplicates} from \"./duplicates\";\n\nimport styled from \"styled-components\";\n\nconst StyledDt = styled.dt`\n    display: inline-block;\n`\n\nconst StyledDd = styled.dd`\n    margin-left: 4pt;\n    display: inline-block;\n`\n\nexport const Feeds = props => {\n    const { accountName } = useParams()\n    const [feeds, setFeeds] = useState([])\n    const [activeFeed, setActiveFeed] = useState(null)\n\n    useEffect(() => {\n        loadFeeds()\n    }, [])\n\n    const loadFeeds = () => fetch(`http://localhost:8080/api/account/${accountName}/feed`)\n        .then(response => response.ok && response.json())\n        .then(json => setFeeds(json.feeds))\n\n    const deleteImport = (feedId) => fetch(`http://localhost:8080/api/feed/${feedId}`, { method: 'DELETE' })\n        .then(response => response.ok && loadFeeds() && setActiveFeed(null))\n\n    const upload = (uploadFile) => {\n        console.log(uploadFile)\n        if (uploadFile) {\n            const formData = new FormData()\n            formData.append('file',uploadFile)\n            fetch(`http://localhost:8080/api/account/${accountName}/feed`, {\n                method: 'POST',\n                body: formData\n            }).then(response => response.json())\n                .then(response => {\n                    if (!response.error) {\n                        loadFeeds();\n                    }\n                })\n        }\n    }\n\n    return (<div>\n        <h2>Feeds</h2>\n        <input type='file' name='upload' onChange={ e => upload(e.target.files[0])}/>\n        <table width=\"100%\">\n            <tbody>\n            { feeds.map((f, i) => <tr key={`f0-${i}`}>\n                 <td key={`f1-${i}`}><input id={`f1-${i}`} type='radio' name='feed' onChange={_ => setActiveFeed(f)} checked={f === activeFeed}/></td>\n                 <td key={`f2-${i}`}><label htmlFor={`f1-${i}`}> {f.file}</label></td>\n                 <td key={`f3-${i}`}>{new Date(f.dateImported).toLocaleDateString('en', { year: 'numeric', month: 'long', day: 'numeric' })} {new Date(f.dateImported).toLocaleTimeString()}</td>\n             </tr>)}\n            </tbody>\n        </table>\n        { activeFeed && (<>\n            <div key='overview'>\n                <dl>\n                    <StyledDt>From:</StyledDt>\n                    <StyledDd>{new Date(activeFeed.fromDate).toLocaleDateString('en', { year: 'numeric', month: 'long', day: 'numeric' })}</StyledDd>\n                </dl>\n                    <StyledDt>To:</StyledDt>\n                    <StyledDd>{new Date(activeFeed.toDate).toLocaleDateString('en', { year: 'numeric', month: 'long', day: 'numeric' })}</StyledDd>\n                <dl>\n                    <StyledDt>Transactions:</StyledDt>\n                    <StyledDd>{activeFeed.numberOfTransactions}</StyledDd>\n                </dl>\n            </div>\n            <button name='delete' onClick={ _ => deleteImport(activeFeed.feedId)}>Delete</button>\n            <Duplicates feedId={activeFeed.feedId}/></>)}\n    </div>)\n}","import React, {useEffect, useState} from \"react\";\n\nimport styled from \"styled-components\";\nimport {NavLink, Route, Switch} from \"react-router-dom\";\nimport {Overview} from \"./overview\";\nimport {FixedBalances} from \"./fixedbalances\";\nimport {Feeds} from \"./feeds\";\n\nconst AccountsContainer = styled.div`\n    display: flex;\n`\n\nconst AccountsContent = styled.div`\n padding-left: 2rem;\n flex-grow: 2;\n`\n\nconst AccountsNav = styled.div`\n flex-grow: 0;\n padding-left: 2rem;\n ol {\n    list-style-type: none;\n    padding-left: 0;\n }\n ol > li  ol > li  {\n    padding-left: 2rem;\n }\n a {\n      text-align: center;\n      display: block;\n      color: black;\n      height: 3rem;\n      line-height: 3rem;\n      text-decoration: none;\n  }\n \n .navActive {\n    background-color: #DCDCDD;\n }\n`\n\n\nexport const Accounts = props => {\n\n    const [accounts, setAccounts] = useState([])\n\n    useEffect(() =>{\n        loadData()\n    }, [])\n\n    const loadData = () => {\n        var url = 'http://localhost:8080/api/account'\n        return fetch(url)\n            .then(response => response.json())\n            .then(json => setAccounts(json.accounts))\n    }\n\n    return (\n        <AccountsContainer>\n            <AccountsNav>\n                <ol>\n                    { accounts && accounts.map(a => <li key={a.name}>\n                        <NavLink activeClassName='navActive' to={`/accounts/${a.name}`}>{a.name}</NavLink>\n                        <ol>\n                            <li><NavLink activeClassName='navActive' to={`/accounts/${a.name}/feeds`}>Feeds</NavLink></li>\n                            <li><NavLink activeClassName='navActive' to={`/accounts/${a.name}/fixedbalances`}>FixedBalances</NavLink></li>\n                        </ol>\n                    </li>) }\n                </ol>\n            </AccountsNav>\n            <AccountsContent>\n                <Switch>\n                    <Route key='route-2' path='/accounts/:accountName/feeds'>\n                        <Feeds/>\n                    </Route>\n                    <Route key='route-3' path='/accounts/:accountName/fixedbalances'>\n                        <FixedBalances/>\n                    </Route>\n                    <Route key='route-3' path='/accounts/:accountName'>\n                        <Overview/>\n                    </Route>\n                </Switch>\n            </AccountsContent>\n        </AccountsContainer>)\n}\n","import React, {useEffect, useReducer, useState} from \"react\";\nimport {v4 as uuidv4} from \"uuid\";\n\nexport const Categories = props => {\n\n    const [categories, dispatchCat] = useReducer(categoriesReducer, []);\n\n\n    useEffect(() => {\n        loadCategories()\n    }, [])\n\n    const loadCategories = () => fetch(`http://localhost:8080/api/category`)\n        .then(response => response.json())\n        .then(json => dispatchCat({type: 'load', categories: json.categories}))\n\n    const saveCategories = () => fetch(`http://localhost:8080/api/category`, {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify(categories)})\n        .then(response => loadCategories())\n\n    function categoriesReducer(state, action) {\n        switch (action.type) {\n            case 'add-category':\n                return [...state, { id: uuidv4(), name: null, matchers: []}]\n            case 'remove-category':\n                return state.filter(c => c.id !== action.categoryId)\n            case 'update-category-name':\n                return state.map(c => c.id === action.categoryId ? {\n                    ...c,\n                    name: action.name } : c )\n            case 'add-matcher':\n                return state.map(c => c.id === action.categoryId ? {\n                    ...c,\n                    matchers: [...c.matchers, {id : uuidv4(), pattern: null}]} : c)\n            case 'remove-matcher':\n                return state.map(c => c.id === action.categoryId ? {\n                    ...c,\n                    matchers: c.matchers.filter(m => m.id !== action.matcherId) } : c)\n            case 'update-matcher':\n                return state.map(c => c.id === action.categoryId ? {\n                    ...c,\n                    matchers: c.matchers.map(m => m.id === action.matcherId ? {\n                        ...m,\n                        pattern: action.pattern\n                    } : m)} : c)\n            case 'load':\n                return action.categories\n            default:\n                throw new Error();\n        }\n    }\n\n    return (<section>\n            <h2>Categories</h2>\n            <ul>\n                { categories && categories.map(c => (<>\n                    <li><input name={`category-${c.id}`} value={c.name} onChange={e => dispatchCat({type: 'update-category-name', categoryId: c.id, name: e.target.value})}/>\n                        <button onClick={() => dispatchCat({type: 'remove-category', categoryId: c.id})}>X</button>\n                    </li>\n                    <ul>\n                        { c.matchers && c.matchers.map(m => <li><input name={m.id} value={m.pattern} onChange={e => dispatchCat({type: 'update-matcher', categoryId: c.id, matcherId: m.id, pattern: e.target.value})}/>\n                            <button onClick={() => dispatchCat({type: 'remove-matcher', categoryId: c.id, matcherId: m.id})}>X</button>\n                        </li>)}\n                        <li><button onClick={_ => dispatchCat({type: 'add-matcher', categoryId: c.id})}>Add</button></li>\n                    </ul></>))}\n                <li><button onClick={_ => dispatchCat({type: 'add-category'})}>Add</button></li>\n            </ul>\n            <button onClick={saveCategories}>Save</button>\n        </section>\n    )\n}","import React, {useState} from 'react';\nimport {BrowserRouter as Router, NavLink, Route, Switch, Redirect} from 'react-router-dom';\nimport './App.css';\nimport {MonthyReport} from \"./containers/monthlyreport/MonthyReport\";\nimport styled from 'styled-components'\nimport {Reports} from \"./containers/reports/reports\";\nimport {Upload} from \"./containers/upload/upload\";\nimport {Accounts} from \"./containers/accounts/accounts\";\nimport {Categories} from \"./containers/categories/categories\";\n\nconst StyledHeader = styled.header`\n  display: flex;\n\n  ol {\n    display: flex;\n    margin: 0;\n    list-style-type: none;\n\n    li {\n      padding-right: 1rem;\n    }\n\n    a {\n      text-align: center;\n      display: block;\n      color: black;\n      height: 3rem;\n      line-height: 3rem;\n      text-decoration: none;\n    }\n\n    .navActive {\n      background-color: #DCDCDD;\n    }\n  }\n\n  h1 {\n    margin: 0;\n    margin-left: 5rem;\n  }\n\n  border-bottom: solid black 1px;\n`;\n\nconst InfoBar = styled.div`\n  padding-top: 0.9em;\n  margin-left: 10rem;\n\n  //    position: absolute;\n  //   right: 30vw;\n`;\n\n\nconst StyledMain = styled.main`\n`;\n\nfunction App() {\n    const [headerInfo, setHeaderInfo] = useState(\"\")\n    const currentMonth = new Date().getMonth() + 1\n    const currentYear = new Date().getFullYear()\n\n    return (\n        <div className=\"App\">\n            <Router>\n                <StyledHeader className=\"App-header\">\n                    <ol>\n                        <li><NavLink activeClassName='navActive' to=\"/accounts\">Accounts</NavLink></li>\n                        <li><NavLink activeClassName='navActive' to=\"/categories\">Categories</NavLink></li>\n                        <li><NavLink activeClassName='navActive' to=\"/transactions\">Monthly</NavLink></li>\n                        <li><NavLink activeClassName='navActive' to=\"/reports\">Reports</NavLink></li>\n                    </ol>\n                    <h1>{headerInfo}</h1>\n                    <InfoBar>Press CTRL+H for help</InfoBar>\n                </StyledHeader>\n                <StyledMain>\n                    <Switch>\n                        <Route exact={true} key=\"route-1\" path='/transactions'>\n                            <Redirect to={`/transactions/${currentYear}/${currentMonth}`}/>\n                        </Route>\n                        <Route exact={true} key=\"route-1\" path='/transactions/:year/:month'>\n                            <MonthyReport onChangeHeaderInfo={(text) => setHeaderInfo(text)}/>\n                        </Route>\n                        <Route exact={false} key=\"route-2\" path='/reports'>\n                            <Reports/>\n                        </Route>\n                        <Route exact={false} key=\"route-3\" path='/accounts'>\n                            <Accounts/>\n                        </Route>\n                        <Route exact={false} key=\"route-3\" path='/categories'>\n                            <Categories/>\n                        </Route>\n                        <Route exact={false} key=\"route-3\" path='/upload'>\n                            <Upload/>\n                        </Route>\n                        <Route>\n                            <Redirect to='enterdata'/>\n                        </Route>\n                    </Switch>\n                </StyledMain>\n            </Router>\n        </div>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}