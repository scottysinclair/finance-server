(this["webpackJsonpfinance-ui"]=this["webpackJsonpfinance-ui"]||[]).push([[0],{255:function(e,t,n){e.exports=n(409)},260:function(e,t,n){},261:function(e,t,n){},409:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(155),o=n.n(c),l=(n(260),n(3)),u=n(9),i=n(21),m=n(16),d=(n(261),n(8)),s=n(45),f=n(10),h=n(477),p=n(246);function b(){var e=Object(u.a)(["\n    \n  position: relative;\n  padding-top: 2rem;\n\n    div.tableContainer {\n        overflow-y: auto; \n        max-height: 75vh;      \n    }\n    \n   th, td {\n      text-align: left;\n      border: 1px solid #ccc;\n      font-weight: normal;\n    }\n    th {\n      position: sticky; top: 0;\n      z-index: 1;      \n      background: #ffffff;\n      padding-top: 0.3rem;\n      padding-bottom: 0.3rem;\n    }\n            \n   input {\n      display: inline-block;\n      height: 1.4rem;\n      padding: 0.25rem;\n      border: none;\n   }\n   input:focus {\n       outline: 2px solid black;\n   }\n  tr.deleting {\n     td { border: 2px solid red;}\n     input:focus { outline: none; }\n     button:focus { outline: none; }\n     input, button {\n        text-decoration: line-through;\n     }\n   }\n   \n   input.active {\n       outline: 2px solid blue;\n   }\n   input.day {\n     width: 3rem;\n   }\n   input.description {\n     width: 30rem;\n   }\n   input.amount {\n     width: 4rem;\n   }\n   button {\n    display: inline-block;\n    border: none;\n    width: 100%;\n    height: 1.4rem;\n    padding: 0.25rem;\n    background-color: transparent;\n   }\n   button.category {\n     width: 10rem;\n   }\n   button:disabled {\n    background-color: #fafafa;\n   }   \n   \n   button.changeCategoryFor {\n      background-color: white;\n      outline: 2px solid blue;\n   }\n   \n   dt {\n     display: inline-block;\n   }\n   dt::after {\n     content: ':';\n   }\n   dd {\n     display: inline-block;\n     margin-left: 0.3rem;\n     margin-right: 3rem;\n   }\n"]);return b=function(){return e},e}var g=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){return e&&t?e+" "+t:e||(t||null)}),null)},y=function(e){return Math.round(100*(e+Number.EPSILON))/100},E=(new RegExp("^[-a-zA-Z0-9! \b]$"),function(e,t){return Array(t).fill(null).map((function(t,n){return e[n]||Object(a.createRef)()}))}),O=Object(f.a)((function(e){var t=e.className,n=e.filter,c=e.updateFilter,o=e.transactions,u=e.changeCategoryFor,i=e.setChangeCategoryFor,m=e.updateTransaction,d=e.deleteTransaction,s=e.addTransaction,f=e.saveTransaction,h=Object(a.useState)([]),p=Object(l.a)(h,2),b=p[0],O=p[1],v=Object(a.useState)([]),k=Object(l.a)(v,2),C=k[0],S=k[1],w=Object(a.useState)([]),x=Object(l.a)(w,2),D=x[0],N=x[1],I=Object(a.useState)([]),T=Object(l.a)(I,2),A=T[0],P=T[1],F=Object(a.useState)(null),R=Object(l.a)(F,2),L=R[0],M=R[1],B=Object(a.useState)({}),z=Object(l.a)(B,2),H=z[0],J=z[1],K=Object(a.useState)({}),U=Object(l.a)(K,2),W=(U[0],U[1]),Y=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current}({changeCategoryFor:u,activeCell:L,filter:n}),X=Object(a.useRef)(null),G=function(e,t,n){e&&e[t]&&e[t].current&&X.current&&(X.current.scrollTop=0,e[t].current.focus())};Object(a.useEffect)((function(){O(E(b,Math.max(o.length,b.length))),S(E(C,Math.max(o.length,C.length))),N(E(D,Math.max(o.length,D.length))),P(E(A,Math.max(o.length,A.length)))}),[o.length]),Object(a.useLayoutEffect)((function(){o.length>0&&Z("description",0)}),[o.length]),Object(a.useLayoutEffect)((function(){H&&H.t&&H.commit&&(J({}),H.i<o.length-1?Z(H.field,H.i+1):Z(H.field,H.i-1))}),[H]),Object(a.useEffect)((function(){!u&&Y&&Y.changeCategoryFor&&(f(Y.changeCategoryFor),o.findIndex((function(e){return e.uuid===Y.changeCategoryFor}))>=0?G(D,$(Y.changeCategoryFor)):G(D,0))}),[u]),Object(a.useEffect)((function(){L&&L.commit&&L.t&&(f(L.t.uuid),M(null))}),[L]);var Z=function(e,t){"day"===e&&b[t]&&b[t].current&&b[t].current.focus(),"description"===e&&C[t]&&C[t].current&&C[t].current.focus(),"category"===e&&D[t]&&D[t].current&&D[t].current.focus(),"amount"===e&&A[t]&&A[t].current&&A[t].current.focus()},$=function(e){return o.findIndex((function(t){return t.uuid===e}))},_=function(e,t,a,r,o,l){return function(m){m.ctrlKey||("Home"!==m.key&&"End"!==m.key||(V(e,t)?m.stopPropagation():m.preventDefault()),"ArrowUp"!==m.key||V(e,t)||H.t||(G(a,r-1),m.preventDefault()),"PageUp"!==m.key||V(e,t)||H.t||(G(a,r-10>0?r-10:0),m.preventDefault()),"ArrowDown"!==m.key||V(e,t)||H.t||(G(a,r+1),m.preventDefault()),"PageDown"!==m.key||V(e,t)||H.t||(G(a,r+10<a.length?r+10:a.length-1),m.preventDefault()),"ArrowLeft"!==m.key||V(e,t)||H.t||G(o,r),"ArrowRight"!==m.key||V(e,t)||H.t||G(l,r),"Insert"!==m.key||V(e,t)||H.t||(W({name:"AddTransaction",focusAfter:{f:t,i:r}}),s(r)),"Delete"!==m.key||V(e,t)||H.t||J({t:e,i:r,field:t}),"Enter"===m.key&&(H.t?(d(H.t.uuid),J({t:e,i:r,field:t,commit:!0})):"category"!==t?V(e,t)?M({t:e,field:t,commit:!0}):M({t:e,field:t,commit:!1}):"category"!==t||u||i(e.uuid)),"Escape"===m.key&&(H.t?J({}):n?c(null):V(e,t)&&M(null)),V(e,t)||q(t)(m))}},q=function(){return function(e){c(e.key)}},V=function(e,t){return L&&L.t.uuid===e.uuid&&L.field===t},Q=function(e,t,n,a,c,o,l){var i=o.rightRefs,d=o.leftRefs;return r.a.createElement(j,Object.assign({key:"".concat(e.uuid,"_").concat(t),ref:n[a],id:"".concat(e.uuid,"_").concat(t),isActive:function(){return V(e,t)},className:g(t,V(e,t)?"active":null),onKeyDown:_(e,t,n,a,d,i),readOnly:!V(e,t),disabled:null!=u,type:"text",autoFocus:0===a&&"description"===t,value:null!=c?c:"",onChange:function(n){return m(e,t,n.target.value)}},l))},ee=o.map((function(e){return e.amount||0})).filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0),te=o.map((function(e){return e.amount||0})).filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0),ne=o.map((function(e){return e.amount||0})).reduce((function(e,t){return e+t}),0),ae=function(e){return H&&H.t&&H.t.uuid===e.uuid};return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"tableContainer",ref:X},o.length>0&&r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{key:"day-header"},"Day"),r.a.createElement("th",{key:"description-header"},"Description"),r.a.createElement("th",{key:"category-header"},"Category"),r.a.createElement("th",{key:"amount-header"},"Amount"))),r.a.createElement("tbody",null,o.map((function(e,t){return r.a.createElement("tr",{key:e.uuid,className:g(ae(e)?"deleting":null)},r.a.createElement("td",{key:"day"},Q(e,"day",b,t,e.day,{rightRefs:C},{maxLength:2})),r.a.createElement("td",{key:"content"},Q(e,"description",C,t,e.description,{leftRefs:b,rightRefs:D})),r.a.createElement("td",{key:"category"},function(e,t){return r.a.createElement("button",{id:"".concat(e.uuid,"_category"),ref:D[t],autoFocus:0===t&&!1,className:g("category",u===e.uuid?"changeCategoryFor":null),onKeyDown:_(e,"category",D,t,C,A),disabled:null!=u,onClick:function(e){return e.preventDefault()}},e.category)}(e,t)),r.a.createElement("td",{key:"amount"},Q(e,"amount",A,t,e.amount,{leftRefs:D})))}))))),r.a.createElement("dl",null,r.a.createElement("dt",null,"Income"),r.a.createElement("dd",null,y(ee)),r.a.createElement("dt",null,"Expenses"),r.a.createElement("dd",null,y(te)),r.a.createElement("dt",null,"Difference"),r.a.createElement("dd",null,y(ne))))}))(b()),j=r.a.forwardRef((function(e,t){var n=e.isActive,c=Object(p.a)(e,["isActive"]),o=Object(a.useState)(e.value),u=Object(l.a)(o,2),i=u[0],m=u[1];Object(a.useEffect)((function(){m(e.value)}),[e.value]);return r.a.createElement("input",Object.assign({ref:t,type:"text"},c,{value:null!=i?i:"",onChange:function(e){return m(e.target.value)},onKeyDown:function(t){n()&&"Enter"===t.key&&e.onChange(t),e.onKeyDown(t)}}))})),v=n(231),k=n.n(v);function C(){var e=Object(u.a)([" \n   position: relative; \n   padding-top: 2rem;\n   margin-left: 5rem;\n   \n   div.tableContainer {\n    overflow-y: auto; \n    max-height: 75vh;\n    }    \n   \n   header {\n     position: absolute;\n     left: 0px;\n     top: -2rem;\n     display: block;\n     border: 1px solid black;\n     background: #ffffff;\n     z-index: 2;\n     \n     input {\n      display: inline-block;\n      height: 1.4rem;\n      padding: 0.25rem;\n      border: none;\n     }\n   }\n   \n   th, td {\n      position: relative;\n      text-align: left;\n      font-weight: normal;\n      border: 1px solid #ccc;\n    }\n   th {\n      position: sticky; top: 0;\n      background: #ffffff;   \n      padding-top: 0.3rem;\n      padding-bottom: 0.3rem;\n      padding-left: 1rem;\n      padding-right: 1rem;\n      z-index: 1;\n   } \n   span {\n    padding: 0.25rem;    \n    padding-left: 1rem;\n    padding-right: 1rem;\n   } \n   button {\n    display: inline-block;\n    border: none;\n    height: 1.9rem;    \n    width: 100%;\n    padding: 0.25rem;    \n    padding-left: 1rem;\n    padding-right: 1rem;\n    background-color: transparent;\n   }   \n   button:focus {\n    background-color: light-grey;\n   }\n   button:disabled {\n    color: black;\n   }\n   selectMode:focus {\n     outline: none\n   }\n"]);return C=function(){return e},e}var S=new RegExp("^[a-zA-Z0-9! \b]$"),w=function(e,t){return e&&e[t]&&e[t].current&&e[t].current.focus()},x=Object(f.a)((function(e){var t=e.className,n=e.categories,c=e.changeCategoryFor,o=e.categoryChanged,u=e.getTransaction,i=e.quitCategoryMode,m=Object(a.useState)([]),d=Object(l.a)(m,2),s=d[0],f=d[1],h=Object(a.useRef)(),p=Object(a.useState)(null),b=Object(l.a)(p,2),g=b[0],y=b[1],E=function(){return n.filter((function(e){return!g||e.name.toLowerCase().includes(g.toLowerCase())}))};Object(a.useEffect)((function(){var e,t;f((e=s,t=n.length,Array(t).fill(null).map((function(t,n){return e[n]||Object(a.createRef)()}))))}),[n.length]),Object(a.useEffect)((function(){if(c)if(0===E().length&&h.current)h.current.focus();else{var e=(t=u(c).category,E().findIndex((function(e){return e.name===t})));e>=0?c&&s[0].current&&s[e].current.focus():c&&s[0].current&&s[0].current.focus()}else y(null);var t}),[n,c,g]);var O=function(e){var t=e.i,n=e.name,a=c?{onKeyDown:function(e){return"ArrowUp"===e.key&&w(s,t-1),"PageUp"===e.key&&w(s,t-10>0?t-10:0),"ArrowDown"===e.key&&w(s,t+1),"PageDown"===e.key&&w(s,t+10<s.length?t+10:s.length-1),!0},className:"selectMode",onClick:function(){return o(n)}}:{disabled:!0};return r.a.createElement("button",Object.assign({ref:s[t]},a),n)};return r.a.createElement(k.a,{active:null!==c},r.a.createElement("div",{className:t,onKeyDown:function(e){"Escape"===e.key&&g&&y(null),"Escape"===e.key&&i(),"Backspace"===e.key&&g&&y(g.length>0?g.substring(0,g.length-1):null),S.test(e.key)&&y(g?g+e.key:e.key)}},g&&r.a.createElement("header",null,r.a.createElement("input",{readOnly:!0,ref:h,value:"name: ".concat(g)})),r.a.createElement("div",{className:"tableContainer"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{key:"name-header"},"Name"),r.a.createElement("th",{key:"total-header"},"Total"))),r.a.createElement("tbody",null,E().filter((function(e){return c||0!==e.total})).map((function(e,t){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{key:"name"},r.a.createElement(O,{i:t,name:e.name})),r.a.createElement("td",{key:"total"},r.a.createElement("span",null,(n=e.total||0,Math.round(100*(n+Number.EPSILON))/100))));var n})))))))}))(C()),D=n(232);function N(){var e=Object(u.a)(["\n  height: 600px;\n"]);return N=function(){return e},e}var I=Object(f.a)((function(e){var t=e.className,n=e.data;return r.a.createElement("div",{className:t},r.a.createElement(D.a,{data:n,layout:"horizontal",keys:["total"],indexBy:"name",margin:{top:50,right:130,bottom:50,left:130},padding:.3,axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Categories",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Amount",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15}))}))(N());function T(){var e=Object(u.a)(["\n header.dataentry {\n     position: absolute;\n     left: 4rem;\n     top: 4rem;\n     display: block;\n     border: 1px solid black;\n     background: #ffffff;\n     z-index: 2;\n     \n     th {\n       padding-top: 0.3rem;\n       width: 3rem;\n       font-weight: normal;\n       padding-right: 2rem;\n     }\n     \n   }\n\ndt {\n     display: inline-block;\n   }\n   dt::after {\n     content: ':';\n   }\n   dd {\n     display: inline-block;\n     margin-left: 0.3rem;\n     margin-right: 3rem;\n   }   \n     \n"]);return T=function(){return e},e}function A(){var e=Object(u.a)(["  \n    position: absolute;\n    background: white;\n    border: 2px solid black;\n    z-index: 2;\n    ol {\n        list-style-type: none;\n        li {\n            padding: 1rem 2rem 1rem 2rem;\n        }\n     }\n"]);return A=function(){return e},e}function P(){var e=Object(u.a)(["\n    display: flex;\n"]);return P=function(){return e},e}function F(){var e=Object(u.a)(["  \n  padding-top: 3rem;\n  padding-left: 4rem;"]);return F=function(){return e},e}var R=f.a.section(F()),L=f.a.div(P()),M=f.a.aside(A()),B=function(e){return Math.round(100*(e+Number.EPSILON))/100},z=function(e,t){return fetch("http://localhost:8080/api/transaction/".concat(e,"/").concat(t)).then((function(e){return e.json()})).then((function(e){return e.transactions.map((function(e){return{id:e.id,feed:e.feed,uuid:Object(h.a)(),description:e.description,account:e.account,day:e.day,month:e.month,year:e.year,category:e.category,amount:e.amount}}))}))},H=function(e,t){return fetch("http://localhost:8080/api/month/".concat(e,"/").concat(t)).then((function(e){return e.ok&&e.json()}))},J=new RegExp("^[a-zA-Z0-9! \b,.-]$"),K=Object(f.a)((function(e){var t=e.className,n=e.onChangeHeaderInfo,c=Object(m.h)(),o=Object(m.g)(),u=Object(a.useState)(null),i=Object(l.a)(u,2),f=i[0],p=i[1],b=Object(a.useState)(),g=Object(l.a)(b,2),y=g[0],E=g[1],j=Object(a.useState)([]),v=Object(l.a)(j,2),k=v[0],C=v[1],S=Object(a.useState)([]),w=Object(l.a)(S,2),D=w[0],N=w[1],T=Object(a.useState)([]),A=Object(l.a)(T,2),P=A[0],F=A[1],K=Object(a.useState)({month:parseInt(c.month),year:parseInt(c.year)}),U=Object(l.a)(K,2),W=U[0],Y=U[1],X=Object(a.useState)(!1),G=Object(l.a)(X,2),Z=G[0],$=G[1],_=Object(a.useState)(!1),q=Object(l.a)(_,2),V=q[0],Q=q[1],ee=Object(a.useState)(""),te=Object(l.a)(ee,2),ne=te[0],ae=te[1],re=(Object(a.useRef)(),Object(a.useRef)(),Object(a.useRef)(),Object(a.useRef)(),Object(a.useRef)());Object(a.useEffect)((function(){return o.listen((function(e){if(e.pathname.startsWith("/transactions")){var t=e.pathname.match(/\/transactions\/(.+)\/(.+)/);3===t.length&&Y({month:parseInt(t[2]),year:parseInt(t[1])})}}))}),[o]),Object(a.useEffect)((function(){0===D.length&&re.current&&re.current.focus()}),[D.length]),Object(a.useEffect)((function(){Z&&re.current&&re.current.focus()}),[Z]),Object(a.useEffect)((function(){fetch(H(W.year,W.month)).then((function(e){return E(e)})),fetch("http://localhost:8080/api/categories").then((function(e){return e.json()})).then((function(e){return C(e.categories.sort((function(e,t){return e.name.localeCompare(t.name)})))})).then((function(e){return z(W.year,W.month)})).then((function(e){return N(e)}))}),[]),Object(a.useEffect)((function(){F(D.filter((function(e){return function(e,t){if(!t||0==t.length)return!0;for(var n in e)if(e[n]&&e[n].toString().toLowerCase().includes(t.toLowerCase()))return!0;return!1}(e,ne)})))}),[D,ne]),Object(a.useEffect)((function(){var e;n(r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,1===(e=W.month)?"January":2===e?"February":3===e?"March":4===e?"April":5===e?"May":6===e?"June":7===e?"July":8===e?"August":9===e?"September":10===e?"October":11===e?"November":12===e?"December":void 0," ",W.year))),z(W.year,W.month).then((function(e){return N(e)})),H(W.year,W.month).then((function(e){return E(e)}))}),[W]),Object(a.useEffect)((function(){P&&C(k.map((function(e){var t=P.filter((function(t){return t.category===e.name})).map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0);return e.total===t?e:{id:e.id,name:e.name,total:t}})))}),[P,f]),Object(a.useEffect)((function(){0==P.length&&re.current&&re.current.focus()}),[P]);var ce=function(e){"Escape"!==e.key?"Backspace"!==e.key?J.test(e.key)&&(console.log("ZZZ",e),ae(ne?ne+e.key:e.key)):ne&&ne.length>1?ae(ne.substring(0,ne.length-1)):ae(null):ae(null)},oe=function(){return r.a.createElement("header",{className:"dataentry"},r.a.createElement("input",{ref:re,readOnly:!0,disabled:!Z&&!(0===P.length||0===D.length),value:ne||"",onKeyDown:ce}))};return r.a.createElement(R,{className:t,onKeyDownCapture:function(e){e.getModifierState("Control")&&"g"===e.key.toLowerCase()&&($(!Z),e.preventDefault(),e.stopPropagation()),e.getModifierState("Control")&&"h"===e.key.toLowerCase()&&(Q(!V),e.preventDefault(),e.stopPropagation()),"Escape"===e.key&&V&&(Q(!1),e.preventDefault(),e.stopPropagation())},onKeyDown:function(e){"End"===e.key&&(!function(){var e;e=12===W.month?{year:W.year+1,month:1}:{year:W.year,month:W.month+1},Y(e),o.push("/transactions/".concat(e.year,"/").concat(e.month))}(),e.preventDefault()),"Home"===e.key&&(!function(){var e;e=1===W.month?{year:W.year-1,month:12}:{year:W.year,month:W.month-1},Y(e),o.push("/transactions/".concat(e.year,"/").concat(e.month))}(),e.preventDefault())}},V&&r.a.createElement(M,{className:t},r.a.createElement("h2",null,"HELP"),r.a.createElement("ol",null,r.a.createElement("li",null,"Navigation: \u2190, \u2191, \u2192, \u2193, PageUp,PageDown"),r.a.createElement("li",null,"Prev/Next month:  Home/End"),r.a.createElement("li",null,"Insert Transaction:  Insert"),r.a.createElement("li",null,"Delete Transaction:  Delete + Enter"),r.a.createElement("li",null,"Toggle Graph:  CTRL G"))),Z?r.a.createElement(r.a.Fragment,null,oe(),r.a.createElement(I,{data:k.filter((function(e){return 0!==e.total}))})):r.a.createElement(L,null,(0===D.length||null!=ne&&ne.length>0)&&oe(),r.a.createElement(O,{filter:ne,updateFilter:function(e){console.log("update filter",ne,e),ce({key:e})},transactions:P,changeCategoryFor:f,setChangeCategoryFor:p,updateTransaction:function(e,t,n){console.log("UT ",e,t,n);var a=Object(d.a)({},e);a[t]=n,N(D.map((function(e){return e.uuid===a.uuid?a:e})))},deleteTransaction:function(e){return N(D.filter((function(t){return t.uuid!=e})))},addTransaction:function(e){var t=Object(s.a)(D);t.splice(e,0,{id:null,uuid:Object(h.a)(),account:"Bank Austria",day:null,month:W.month,year:W.year,category:null,amount:null}),N(t)},saveTransaction:function(e){var t=D.find((function(t){return t.uuid===e}));console.log(t),t&&fetch("http://localhost:8080/api/transaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){var n=Object(d.a)(Object(d.a)({},t),e);N(D.map((function(e){return e.uuid===n.uuid?n:e})))}))}}),r.a.createElement(x,{categories:k,changeCategoryFor:f,categoryChanged:function(e){D.filter((function(e){return e.uuid===f})).forEach((function(t){return t.category=e})),p(null)},getTransaction:function(e){return D.find((function(t){return t.uuid===e}))},quitCategoryMode:function(e){p(null)}})),r.a.createElement("footer",null,r.a.createElement("dl",null,r.a.createElement("dt",null,"Month Start"),r.a.createElement("dd",null,y&&B(y.startingBalance||0)),r.a.createElement("dt",null,"Month End"),r.a.createElement("dd",null,y&&B(D.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),y.startingBalance||0))))))}))(T()),U=n(112);function W(){var e=Object(u.a)(["\n  height: 85vh;\n  width: 95%;\n"]);return W=function(){return e},e}var Y=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){fetch("http://localhost:8080/api/timeseries/balance").then((function(e){return e.json()})).then((function(e){return e.data.map((function(e){return{id:e.id,data:e.data.map((function(e){return{x:e.date,y:e.amount}}))}}))})).then((function(e){o(e)}))}),[]),console.log(c),r.a.createElement("div",null,c&&r.a.createElement(X,{data:c}))},X=Object(f.a)((function(e){var t=e.className,n=e.data;return r.a.createElement("div",{className:t},r.a.createElement(U.a,{data:n,margin:{top:50,right:110,bottom:100,left:60},xScale:{type:"time",format:"%Y-%m-%d",useUTC:!1,precision:"day"},xFormat:"time:%Y-%m-%d",yScale:{type:"linear",min:"auto",max:"auto"},curve:"cardinal",lineWidth:4,axisTop:null,axisRight:null,axisBottom:{orient:"bottom",format:"%d %b %y",tickValues:"every month",tickSize:5,tickPadding:5,tickRotation:90,legend:"time",legendOffset:36,legendPosition:"center"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"count",legendOffset:-40,legendPosition:"center"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]}))}))(W());function G(){var e=Object(u.a)(["\n  height:90vh;\n  width: 95%;\n"]);return G=function(){return e},e}var Z=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(null),i=Object(l.a)(u,2),m=i[0],d=i[1],s=Object(a.useState)(0),f=Object(l.a)(s,2),h=f[0],p=f[1],b=Object(a.useState)(1),g=Object(l.a)(b,2),y=g[0],E=g[1],O=Object(a.useState)(null),j=Object(l.a)(O,2),v=j[0],k=j[1],C=Object(a.useState)(null),S=Object(l.a)(C,2),w=S[0],x=S[1];Object(a.useEffect)((function(){D()}),[]),Object(a.useEffect)((function(){D()}),[m]),Object(a.useEffect)((function(){x(v?N(v):null)}),[v,c,h,y]);var D=function(e){var t="http://localhost:8080/api/timeseries/categories";return m&&(t+="?description=".concat(m)),fetch(t).then((function(e){return e.json()})).then((function(e){return e.data.map((function(e){return{id:e.id,data:e.data.map((function(e){return{x:e.date,y:e.amount}}))}}))})).then((function(e){k(e)}))},N=function(e){return e.filter((function(e){return!c||e.id.toLowerCase().includes(c)})).filter((function(e){return isNaN(h)||Math.abs(e.data.map((function(e){return e.y})).reduce((function(e,t){return e+t}),0))>=h})).filter((function(e){return isNaN(y)||e.data.map((function(e){return e.y})).reduce((function(e,t){var n=[Math.abs(e),Math.abs(t)],a=n[0],r=n[1];return a>r?a:r}),0)>=y}))};return r.a.createElement("div",{onKeyDownCapture:function(e){"Escape"===e.key&&(d(null),o(null),p(0),E(1))}},"Description: ",r.a.createElement("input",{name:"description",value:m||"",onChange:function(e){return d(e.target.value)}}),"Category: ",r.a.createElement("input",{name:"category",value:c||"",onChange:function(e){return o(e.target.value)}}),"Total Over Period: ",r.a.createElement("input",{name:"total",value:h||"",onChange:function(e){return p(parseInt(e.target.value))}}),"Can Exceed: ",r.a.createElement("input",{name:"min",value:y||"",onChange:function(e){return E(parseInt(e.target.value))}}),w?w.length:0," Categories",w&&r.a.createElement($,{data:w}))},$=Object(f.a)((function(e){var t=e.className,n=e.data;return r.a.createElement("div",{className:t},r.a.createElement(U.a,{data:n,margin:{top:50,right:110,bottom:100,left:60},xScale:{type:"time",format:"%Y-%m-%d",useUTC:!1,precision:"month"},xFormat:"time:%Y-%m-%d",yScale:{type:"linear",min:"auto",max:"auto"},curve:"cardinal",lineWidth:4,axisTop:null,axisRight:null,axisBottom:{orient:"bottom",format:"%d %b %y",tickValues:"every month",tickSize:5,tickPadding:5,tickRotation:90,legend:"time",legendOffset:36,legendPosition:"center"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"count",legendOffset:-40,legendPosition:"center"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]}))}))(G()),_=function(e){var t=Object(m.h)().year,n=Object(a.useState)(null),c=Object(l.a)(n,2),o=c[0],u=c[1];return Object(a.useEffect)((function(){fetch("http://localhost:8080/api/year/".concat(t,"/categories")).then((function(e){return e.json()})).then((function(e){return u(e.data)}))}),[t]),r.a.createElement("div",null,r.a.createElement("h2",null,"Year report for ",t),o&&r.a.createElement(I,{data:o}))};function q(){var e=Object(u.a)(["\n flex-grow: 0;\n padding-left: 2rem;\n ol {\n    list-style-type: none;\n    padding-left: 0;\n }\n ol > li  ol > li  {\n    padding-left: 2rem;\n }\n a {\n      text-align: center;\n      display: block;\n      color: black;\n      height: 3rem;\n      line-height: 3rem;\n      text-decoration: none;\n  }\n \n .navActive {\n    background-color: #DCDCDD;\n }\n"]);return q=function(){return e},e}function V(){var e=Object(u.a)(["\n padding-left: 2rem;\n flex-grow: 2;\n"]);return V=function(){return e},e}function Q(){var e=Object(u.a)(["\n    display: flex;\n"]);return Q=function(){return e},e}var ee=f.a.div(Q()),te=f.a.div(V()),ne=f.a.div(q()),ae=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),c=n[0],o=n[1];Object(a.useEffect)((function(){u()}),[]);var u=function(){return fetch("http://localhost:8080/api/years").then((function(e){return e.json()})).then((function(e){return o(e.years)}))};return r.a.createElement(ee,null,r.a.createElement(ne,null,r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement(i.b,{activeClassName:"navActive",to:"/reports/timeline"},"Overview")),c&&c.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement(i.b,{activeClassName:"navActive",to:"/reports/year/".concat(e)},e))})))),r.a.createElement(te,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{key:"1",path:"/reports/year/:year"},r.a.createElement(_,null)),r.a.createElement(m.b,{key:"1",path:"/reports"},r.a.createElement(Y,null),r.a.createElement(Z,null)))))},re=n(110),ce=new Intl.DateTimeFormat("de-de",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}),oe=function(e,t){return Object(Object(d.a)(Object(d.a)({},e),{},Object(re.a)({},t.type,t.value)))};function le(){var e=Object(u.a)([" \n\n .duplicate-row {\n   text-decoration: line-through;\n }\n "]);return le=function(){return e},e}var ue=Object(f.a)((function(e){var t=e.className,n=Object(a.useState)([]),c=Object(l.a)(n,2),o=c[0],u=c[1],i=Object(a.useState)([]),m=Object(l.a)(i,2),f=m[0],p=m[1],b=Object(a.useState)([]),g=Object(l.a)(b,2),y=g[0],E=g[1],O=Object(a.useState)([]),j=Object(l.a)(O,2),v=j[0],k=j[1],C=Object(a.useState)(null),S=Object(l.a)(C,2),w=S[0],x=S[1],D=Object(a.useState)(null),N=Object(l.a)(D,2),I=N[0],T=N[1],A=Object(a.useState)(null),P=Object(l.a)(A,2),F=P[0],R=P[1],L=Object(a.useState)(null),M=Object(l.a)(L,2),B=M[0],z=M[1],H=Object(a.useReducer)((function(e,t){switch(console.log(t),t.type){case"set-dups":return t.duplicates;case"change-dup":var n=Object.assign({},e);return n[t.hash]=e[t.hash].map((function(e){return e.recordNumber===t.recordNumber?Object(d.a)(Object(d.a)({},e),{},{duplicate:!e.duplicate}):e})),n;case"make-assumptions":return Object.keys(e).forEach((function(t){1===e[t].length?e[t][0].duplicate=!0:(e[t][0].duplicate=!1,e[t].slice(1).forEach((function(e){e.duplicate=!0})))})),Object(d.a)({},e)}}),[]),J=Object(l.a)(H,2),K=J[0],U=J[1],W=Object(a.useReducer)((function(e,t){switch(t.type){case"add-category":return[].concat(Object(s.a)(e),[{id:Object(h.a)(),name:null,matchers:[]}]);case"remove-category":return e.filter((function(e){return e.id!==t.categoryId}));case"update-category-name":return e.map((function(e){return e.id===t.categoryId?Object(d.a)(Object(d.a)({},e),{},{name:t.name}):e}));case"add-matcher":return e.map((function(e){return e.id===t.categoryId?Object(d.a)(Object(d.a)({},e),{},{matchers:[].concat(Object(s.a)(e.matchers),[{id:Object(h.a)(),pattern:null}])}):e}));case"remove-matcher":return e.map((function(e){return e.id===t.categoryId?Object(d.a)(Object(d.a)({},e),{},{matchers:e.matchers.filter((function(e){return e.id!==t.matcherId}))}):e}));case"update-matcher":return e.map((function(e){return e.id===t.categoryId?Object(d.a)(Object(d.a)({},e),{},{matchers:e.matchers.map((function(e){return e.id===t.matcherId?Object(d.a)(Object(d.a)({},e),{},{pattern:t.pattern}):e}))}):e}));case"load":return t.categories;default:throw new Error}}),[]),Y=Object(l.a)(W,2),X=Y[0],G=Y[1];Object(a.useEffect)((function(){Z(),$(),_(),q()}),[]);var Z=function(){return fetch("http://localhost:8080/account").then((function(e){return e.json()})).then((function(e){return u(e.accounts)}))},$=function(){return fetch("http://localhost:8080/feed").then((function(e){return e.json()})).then((function(e){return p(e.feeds)}))},_=function(){return fetch("http://localhost:8080/statement").then((function(e){return e.json()})).then((function(e){return E(e.statements)}))},q=function(){return fetch("http://localhost:8080/category").then((function(e){return e.json()})).then((function(e){return G({type:"load",categories:e.categories})}))},V=function(e){var t={};return e.forEach((function(e){return t[e.contentHash]?t[e.contentHash].push(e):t[e.contentHash]=[e]})),t};return r.a.createElement("div",{className:t},r.a.createElement("section",null,r.a.createElement("h2",null,"Accounts"),r.a.createElement("ul",null,o&&o.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,e.name," - ",r.a.createElement("button",{onClick:function(t){return n=e.id,fetch("http://localhost:8080/account/".concat(n),{method:"DELETE"}).then((function(e){return e.ok&&Z()}));var n}},"Delete"),r.a.createElement("button",{onClick:function(t){return x(e.id)}},"Upload")),r.a.createElement("ul",null,r.a.createElement("li",null,"Number of transactions: ",e.numberOfTransactions),r.a.createElement("li",null,"Number of statements: ",y&&y.filter((function(t){return t.accountId===e.id})).length),r.a.createElement("li",null,"Uploads:"),f.length>0&&r.a.createElement("ol",null,f.map((function(e){return r.a.createElement("li",null,e.file," uploaded on ",function(e){var t=ce.formatToParts(e).reduce(oe,{});return t.day+"."+t.month+"."+t.year}(new Date(e.dateImported))," at ",function(e){var t=ce.formatToParts(e).reduce(oe,{});return t.hour+":"+t.minute}(new Date(e.dateImported)),r.a.createElement("button",{onClick:function(){return t=e.id,fetch("http://localhost:8080/duplicateCheck/".concat(t),{method:"GET"}).then((function(e){return e.ok&&e.json()})).then((function(e){z(t),U({type:"set-dups",duplicates:V(e.duplicates)})}));var t}},"duplicate check"),r.a.createElement("button",{onClick:function(){return t=e.id,fetch("http://localhost:8080/feed/".concat(t),{method:"DELETE"}).then((function(e){return e.ok&&Z()&&$()&&_()}));var t}},"delete"))}))),w===e.id&&r.a.createElement("ol",null,0===y.filter((function(t){return t.accountId===e.id})).length&&r.a.createElement("li",null,"Please specify the most current balance",r.a.createElement("input",{name:"balance",type:"input",value:null!==I?I:"",onChange:function(e){return T(e.target.value)}})),r.a.createElement("li",null,"Please select file  to upload",r.a.createElement("input",{name:"upload",type:"file",onChange:function(e){return R(e.target.files[0])}})),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return function(e){var t=new FormData;t.append("file",F),I&&t.append("currentBalance",I),fetch("http://localhost:8080/upload/".concat(e.name),{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){e.error||(z(e.feedId),U({type:"set-dups",duplicates:V(e.duplicates)}),Z(),$(),z(f.filter((function(e){return e.file===F.name})).first),_())}))}(e)}},"Go!")))))})),r.a.createElement("li",null,"New: ",r.a.createElement("input",{name:"newAccount",value:v,onChange:function(e){return k(e.target.value)}}),r.a.createElement("button",{onClick:function(e){return fetch("http://localhost:8080/account/".concat(v),{method:"PUT"}).then((function(e){return e.ok&&Z()}))}},"Add")))),K&&Object.keys(K).length>0&&r.a.createElement("section",null,r.a.createElement("h2",null,"Duplicates"),r.a.createElement("button",{name:"assumptions",onClick:function(e){return U({type:"make-assumptions"})}},"Assumptions"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"line"),r.a.createElement("th",null,"content"),r.a.createElement("th",null,"Duplicate"))),r.a.createElement("tbody",null,Object.keys(K).map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:"".concat(t,"-dashed}")},r.a.createElement("td",null,"----------------")),K[e].map((function(e,n){return r.a.createElement("tr",{key:"".concat(t,"-").concat(n),className:(a=e,a.duplicate?"duplicate-row":"")},r.a.createElement("td",null,e.recordNumber),r.a.createElement("td",null,r.a.createElement("label",{for:"duplicate-".concat(t,"-").concat(n)},e.content)),r.a.createElement("td",null,e.count),r.a.createElement("td",null,r.a.createElement("input",{id:"duplicate-".concat(t,"-").concat(n),name:"duplicate-".concat(t,"-").concat(n),type:"checkbox",checked:e.duplicate,onChange:function(t){return U({type:"change-dup",hash:e.contentHash,recordNumber:e.recordNumber,duplicate:!e.duplicate})}})));var a})))})))),r.a.createElement("button",{name:"save",onClick:function(){return fetch("http://localhost:8080/duplicates/".concat(B),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}).then((function(e){return e.ok&&e.json()})).then((function(e){return U({type:"set-dups",duplicates:V(e.duplicates)})}))}},"Save")),r.a.createElement("section",null,r.a.createElement("h2",null,"Categories"),r.a.createElement("ul",null,X&&X.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("input",{name:"category-".concat(e.id),value:e.name,onChange:function(t){return G({type:"update-category-name",categoryId:e.id,name:t.target.value})}}),r.a.createElement("button",{onClick:function(){return G({type:"remove-category",categoryId:e.id})}},"X")),r.a.createElement("ul",null,e.matchers&&e.matchers.map((function(t){return r.a.createElement("li",null,r.a.createElement("input",{name:t.id,value:t.pattern,onChange:function(n){return G({type:"update-matcher",categoryId:e.id,matcherId:t.id,pattern:n.target.value})}}),r.a.createElement("button",{onClick:function(){return G({type:"remove-matcher",categoryId:e.id,matcherId:t.id})}},"X"))})),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(t){return G({type:"add-matcher",categoryId:e.id})}},"Add"))))})),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(e){return G({type:"add-category"})}},"Add"))),r.a.createElement("button",{onClick:function(){return fetch("http://localhost:8080/category",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)}).then((function(e){return q()}))}},"Save")))}))(le()),ie=function(e){var t=Object(m.h)().accountName,n=Object(a.useState)(null),c=Object(l.a)(n,2),o=c[0],u=c[1];return Object(a.useEffect)((function(){fetch("http://localhost:8080/api/account/".concat(t,"/overview")).then((function(e){return e.ok&&e.json()})).then((function(e){return u(e)}))}),[]),console.log(o),r.a.createElement("div",null,r.a.createElement("h2",null,"Overview"),o&&r.a.createElement("dl",null,r.a.createElement("dt",null,"From"),r.a.createElement("dd",null,new Date(o.fromDate).toLocaleDateString()),r.a.createElement("dt",null,"To"),r.a.createElement("dd",null,new Date(o.toDate).toLocaleDateString()),r.a.createElement("dt",null,"Transactions"),r.a.createElement("dd",null,o.numberOfTransactions),r.a.createElement("dt",null,"End of Month Statements Generated"),r.a.createElement("dd",null,o.numberOfStatements)))},me=function(e){var t=Object(m.h)().accountName,n=Object(a.useState)([]),c=Object(l.a)(n,2),o=c[0],u=c[1],i=Object(a.useState)(null),d=Object(l.a)(i,2),s=d[0],f=d[1],p=Object(a.useState)(null),b=Object(l.a)(p,2),g=b[0],y=b[1];Object(a.useEffect)((function(){E()}),[]);var E=function(){return fetch("http://localhost:8080/api/account/".concat(t,"/fixedbalance")).then((function(e){return e.ok&&e.json()})).then((function(e){return u(e.balances)}))};return r.a.createElement("div",null,r.a.createElement("h2",null,"Fixed Balances"),"Date: ",r.a.createElement("input",{name:"date",type:"text",value:s,onChange:function(e){return f(e.target.value)}}),"Amount: ",r.a.createElement("input",{name:"amount",type:"text",value:g,onChange:function(e){return y(e.target.value)}}),r.a.createElement("button",{name:"save",onClick:function(e){fetch("http://localhost:8080/api/account/".concat(t,"/fixedbalance"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:Object(h.a)(),time:s,amount:g})}).then((function(e){return e.ok&&e.json()})).then((function(e){return u(e.balances)}))}},"Add"),r.a.createElement("table",{width:"60%"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{key:"th0"},"Date"),r.a.createElement("th",{key:"th1"},"Amount"))),r.a.createElement("tbody",null,o&&o.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,new Date(e.time).toLocaleDateString("en",{year:"numeric",month:"long",day:"numeric"})," ",new Date(e.time).toLocaleTimeString()),r.a.createElement("td",null,e.amount))})))))};function de(){var e=Object(u.a)([" \n\n .duplicate-row {\n   td {\n    text-decoration: line-through;\n   }\n   td.radio {\n    text-decoration: none;\n   }\n   \n }\n "]);return de=function(){return e},e}var se=Object(f.a)((function(e){var t=e.className,n=e.feedId,c=Object(a.useState)(null),o=Object(l.a)(c,2),u=o[0],i=o[1],m=Object(a.useReducer)((function(e,t){switch(console.log(t),t.type){case"set-dups":return t.duplicates;case"change-dup":var n=Object.assign({},e);return n[t.hash]=e[t.hash].map((function(e){return e.recordNumber===t.recordNumber?Object(d.a)(Object(d.a)({},e),{},{duplicate:t.duplicate}):e})),n;case"make-assumptions":return Object.keys(e).forEach((function(t){1===e[t].length?e[t][0].duplicate=!0:(e[t][0].duplicate=!1,e[t].slice(1).forEach((function(e){e.duplicate=!0})))})),Object(d.a)({},e)}}),[]),s=Object(l.a)(m,2),f=s[0],h=s[1];console.log(n);var p=function(e){var t={};return e.forEach((function(e){return t[e.contentHash]?t[e.contentHash].push(e):t[e.contentHash]=[e]})),t};return Object(a.useEffect)((function(){!function(e){fetch("http://localhost:8080/api/duplicateCheck/".concat(e),{method:"GET"}).then((function(e){return 200===e.status&&e.json()})).then((function(t){t&&(i(e),h({type:"set-dups",duplicates:p(t.duplicates)}))}))}(n)}),[n]),f&&Object.keys(f).length>0&&r.a.createElement("section",{className:t},r.a.createElement("h2",null,"Duplicates"),r.a.createElement("button",{name:"assumptions",onClick:function(e){return h({type:"make-assumptions"})}},"Assumptions"),r.a.createElement("button",{name:"save",onClick:function(){return fetch("http://localhost:8080/api/duplicates/".concat(u),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}).then((function(e){return e.ok&&e.json()})).then((function(e){return h({type:"set-dups",duplicates:p(e.duplicates)})}))}},"Save"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"line"),r.a.createElement("th",null,"content"),r.a.createElement("th",null,"Duplicate"))),r.a.createElement("tbody",null,Object.keys(f).map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:"".concat(t,"-dashed}")},r.a.createElement("td",null,"----------------")),f[e].map((function(e,n){return r.a.createElement("tr",{key:"".concat(t,"-").concat(n),className:(a=e,a.duplicate?"duplicate-row":"")},r.a.createElement("td",{key:"d1-".concat(t,"-").concat(n)},e.recordNumber),r.a.createElement("td",{key:"d2-".concat(t,"-").concat(n)},r.a.createElement("label",{for:"duplicate-".concat(t,"-").concat(n)},e.content)),r.a.createElement("td",{key:"d3-".concat(t,"-").concat(n)},e.count),r.a.createElement("td",{key:"d4-".concat(t,"-").concat(n),className:"radio"},r.a.createElement("label",null,"yes",r.a.createElement("input",{id:"duplicate-".concat(t,"-").concat(n),name:"duplicate-".concat(t,"-").concat(n),type:"radio",value:"yes",checked:!0===e.duplicate,onChange:function(t){return h({type:"change-dup",hash:e.contentHash,recordNumber:e.recordNumber,duplicate:!0})}})),r.a.createElement("label",null,"no",r.a.createElement("input",{id:"duplicate-".concat(t,"-").concat(n),name:"duplicate-".concat(t,"-").concat(n),type:"radio",value:"no",checked:!0!==e.duplicate&&null!==e.duplicate,onChange:function(t){return h({type:"change-dup",hash:e.contentHash,recordNumber:e.recordNumber,duplicate:!1})}})),r.a.createElement("label",null,"don't know",r.a.createElement("input",{id:"duplicate-".concat(t,"-").concat(n),name:"duplicate-".concat(t,"-").concat(n),type:"radio",value:"unknown",checked:null===e.duplicate,onChange:function(t){return h({type:"change-dup",hash:e.contentHash,recordNumber:e.recordNumber,duplicate:null})}}))));var a})))})))))}))(de());function fe(){var e=Object(u.a)(["\n    margin-left: 4pt;\n    display: inline-block;\n"]);return fe=function(){return e},e}function he(){var e=Object(u.a)(["\n    display: inline-block;\n"]);return he=function(){return e},e}var pe=f.a.dt(he()),be=f.a.dd(fe()),ge=function(e){var t=Object(m.h)().accountName,n=Object(a.useState)([]),c=Object(l.a)(n,2),o=c[0],u=c[1],i=Object(a.useState)(null),d=Object(l.a)(i,2),s=d[0],f=d[1];Object(a.useEffect)((function(){h()}),[]);var h=function(){return fetch("http://localhost:8080/api/account/".concat(t,"/feed")).then((function(e){return e.ok&&e.json()})).then((function(e){return u(e.feeds)}))};return r.a.createElement("div",null,r.a.createElement("h2",null,"Feeds"),r.a.createElement("input",{type:"file",name:"upload",onChange:function(e){return function(e){if(console.log(e),e){var n=new FormData;n.append("file",e),fetch("http://localhost:8080/api/account/".concat(t,"/feed"),{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){e.error||h()}))}}(e.target.files[0])}}),r.a.createElement("table",{width:"100%"},r.a.createElement("tbody",null,o.map((function(e,t){return r.a.createElement("tr",{key:"f0-".concat(t)},r.a.createElement("td",{key:"f1-".concat(t)},r.a.createElement("input",{id:"f1-".concat(t),type:"radio",name:"feed",onChange:function(t){return f(e)},checked:e===s})),r.a.createElement("td",{key:"f2-".concat(t)},r.a.createElement("label",{htmlFor:"f1-".concat(t)}," ",e.file)),r.a.createElement("td",{key:"f3-".concat(t)},new Date(e.dateImported).toLocaleDateString("en",{year:"numeric",month:"long",day:"numeric"})," ",new Date(e.dateImported).toLocaleTimeString()))})))),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:"overview"},r.a.createElement("dl",null,r.a.createElement(pe,null,"From:"),r.a.createElement(be,null,new Date(s.fromDate).toLocaleDateString("en",{year:"numeric",month:"long",day:"numeric"}))),r.a.createElement(pe,null,"To:"),r.a.createElement(be,null,new Date(s.toDate).toLocaleDateString("en",{year:"numeric",month:"long",day:"numeric"})),r.a.createElement("dl",null,r.a.createElement(pe,null,"Transactions:"),r.a.createElement(be,null,s.numberOfTransactions))),r.a.createElement("button",{name:"delete",onClick:function(e){return t=s.feedId,fetch("http://localhost:8080/api/feed/".concat(t),{method:"DELETE"}).then((function(e){return e.ok&&h()&&f(null)}));var t}},"Delete"),r.a.createElement(se,{feedId:s.feedId})))};function ye(){var e=Object(u.a)(["\n flex-grow: 0;\n padding-left: 2rem;\n ol {\n    list-style-type: none;\n    padding-left: 0;\n }\n ol > li  ol > li  {\n    padding-left: 2rem;\n }\n a {\n      text-align: center;\n      display: block;\n      color: black;\n      height: 3rem;\n      line-height: 3rem;\n      text-decoration: none;\n  }\n \n .navActive {\n    background-color: #DCDCDD;\n }\n"]);return ye=function(){return e},e}function Ee(){var e=Object(u.a)(["\n padding-left: 2rem;\n flex-grow: 2;\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(u.a)(["\n    display: flex;\n"]);return Oe=function(){return e},e}var je=f.a.div(Oe()),ve=f.a.div(Ee()),ke=f.a.div(ye()),Ce=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],o=n[1];Object(a.useEffect)((function(){u()}),[]);var u=function(){return fetch("http://localhost:8080/api/account").then((function(e){return e.json()})).then((function(e){return o(e.accounts)}))};return r.a.createElement(je,null,r.a.createElement(ke,null,r.a.createElement("ol",null,c&&c.map((function(e){return r.a.createElement("li",{key:e.name},r.a.createElement(i.b,{activeClassName:"navActive",to:"/accounts/".concat(e.name)},e.name),r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement(i.b,{activeClassName:"navActive",to:"/accounts/".concat(e.name,"/feeds")},"Feeds")),r.a.createElement("li",null,r.a.createElement(i.b,{activeClassName:"navActive",to:"/accounts/".concat(e.name,"/fixedbalances")},"FixedBalances"))))})))),r.a.createElement(ve,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{key:"route-2",path:"/accounts/:accountName/feeds"},r.a.createElement(ge,null)),r.a.createElement(m.b,{key:"route-3",path:"/accounts/:accountName/fixedbalances"},r.a.createElement(me,null)),r.a.createElement(m.b,{key:"route-3",path:"/accounts/:accountName"},r.a.createElement(ie,null)))))},Se=function(e){var t=Object(a.useReducer)((function(e,t){switch(t.type){case"add-category":return[].concat(Object(s.a)(e),[{id:Object(h.a)(),name:null,matchers:[]}]);case"remove-category":return e.filter((function(e){return e.id!==t.categoryId}));case"update-category-name":return e.map((function(e){return e.id===t.categoryId?Object(d.a)(Object(d.a)({},e),{},{name:t.name}):e}));case"add-matcher":return e.map((function(e){return e.id===t.categoryId?Object(d.a)(Object(d.a)({},e),{},{matchers:[].concat(Object(s.a)(e.matchers),[{id:Object(h.a)(),pattern:null}])}):e}));case"remove-matcher":return e.map((function(e){return e.id===t.categoryId?Object(d.a)(Object(d.a)({},e),{},{matchers:e.matchers.filter((function(e){return e.id!==t.matcherId}))}):e}));case"update-matcher":return e.map((function(e){return e.id===t.categoryId?Object(d.a)(Object(d.a)({},e),{},{matchers:e.matchers.map((function(e){return e.id===t.matcherId?Object(d.a)(Object(d.a)({},e),{},{pattern:t.pattern}):e}))}):e}));case"load":return t.categories;default:throw new Error}}),[]),n=Object(l.a)(t,2),c=n[0],o=n[1];Object(a.useEffect)((function(){u()}),[]);var u=function(){return fetch("http://localhost:8080/api/category").then((function(e){return e.json()})).then((function(e){return o({type:"load",categories:e.categories})}))};return r.a.createElement("section",null,r.a.createElement("h2",null,"Categories"),r.a.createElement("ul",null,c&&c.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("input",{name:"category-".concat(e.id),value:e.name,onChange:function(t){return o({type:"update-category-name",categoryId:e.id,name:t.target.value})}}),r.a.createElement("button",{onClick:function(){return o({type:"remove-category",categoryId:e.id})}},"X")),r.a.createElement("ul",null,e.matchers&&e.matchers.map((function(t){return r.a.createElement("li",null,r.a.createElement("input",{name:t.id,value:t.pattern,onChange:function(n){return o({type:"update-matcher",categoryId:e.id,matcherId:t.id,pattern:n.target.value})}}),r.a.createElement("button",{onClick:function(){return o({type:"remove-matcher",categoryId:e.id,matcherId:t.id})}},"X"))})),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(t){return o({type:"add-matcher",categoryId:e.id})}},"Add"))))})),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(e){return o({type:"add-category"})}},"Add"))),r.a.createElement("button",{onClick:function(){return fetch("http://localhost:8080/api/category",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return u()}))}},"Save"))};function we(){var e=Object(u.a)(["\n"]);return we=function(){return e},e}function xe(){var e=Object(u.a)(["\n    display: flex;\n    ol {\n        display: flex;\n        margin: 0;\n        list-style-type: none;\n        li {\n          padding-right: 1rem;\n        }\n        a {\n          text-align: center;\n          display: block;\n          color: black;\n          height: 3rem;\n          line-height: 3rem;\n          text-decoration: none;\n        }\n        .navActive {\n          background-color: #DCDCDD;\n        }\n     }\n   h1 {\n     margin: 0;\n     margin-left: 5rem;\n   }  \n     border-bottom: solid black 1px;\n"]);return xe=function(){return e},e}var De=f.a.header(xe()),Ne=f.a.main(we());var Ie=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],o=(new Date).getMonth()+1,u=(new Date).getFullYear();return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,null,r.a.createElement(De,{className:"App-header"},r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement(i.b,{activeClassName:"navActive",to:"/accounts"},"Accounts")),r.a.createElement("li",null,r.a.createElement(i.b,{activeClassName:"navActive",to:"/categories"},"Categories")),r.a.createElement("li",null,r.a.createElement(i.b,{activeClassName:"navActive",to:"/transactions"},"Transactions")),r.a.createElement("li",null,r.a.createElement(i.b,{activeClassName:"navActive",to:"/reports"},"Reports"))),r.a.createElement("h1",null,n)),r.a.createElement(Ne,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,key:"route-1",path:"/transactions"},r.a.createElement(m.a,{to:"/transactions/".concat(u,"/").concat(o)})),r.a.createElement(m.b,{exact:!0,key:"route-1",path:"/transactions/:year/:month"},r.a.createElement(K,{onChangeHeaderInfo:function(e){return c(e)}})),r.a.createElement(m.b,{exact:!1,key:"route-2",path:"/reports"},r.a.createElement(ae,null)),r.a.createElement(m.b,{exact:!1,key:"route-3",path:"/accounts"},r.a.createElement(Ce,null)),r.a.createElement(m.b,{exact:!1,key:"route-3",path:"/categories"},r.a.createElement(Se,null)),r.a.createElement(m.b,{exact:!1,key:"route-3",path:"/upload"},r.a.createElement(ue,null)),r.a.createElement(m.b,null,r.a.createElement(m.a,{to:"enterdata"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[255,1,2]]]);
//# sourceMappingURL=main.3bafd496.chunk.js.map